import { coerceBooleanProperty } from '@angular/cdk/coercion';
import { ChangeDetectionStrategy, Component, EventEmitter, Input, Optional, Output, Self, ViewChild, } from '@angular/core';
import { randomString } from '@aposin/ng-aquila/utils';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "@aposin/ng-aquila/utils";
import * as i3 from "@angular/cdk/a11y";
import * as i4 from "@aposin/ng-aquila/icon";
import * as i5 from "@angular/common";
import * as i6 from "@angular/cdk/observers";
let nextId = 0;
export class NxSwitcherComponent {
    constructor(_cdr, ngControl, _errorStateMatcher, _parentForm, _parentFormGroup, _focusMonitor) {
        this._cdr = _cdr;
        this.ngControl = ngControl;
        this._errorStateMatcher = _errorStateMatcher;
        this._parentForm = _parentForm;
        this._parentFormGroup = _parentFormGroup;
        this._focusMonitor = _focusMonitor;
        this._id = `nx-switcher-${nextId++}-${randomString()}`;
        /** @docs-private */
        this.errorState = false;
        this._labelPosition = 'right';
        this._name = null;
        this._checked = false;
        this._big = false;
        this._labelSize = 'large';
        this._negative = false;
        this._disabled = false;
        /** An event is dispatched each time the switcher value is changed */
        this.checkedChange = new EventEmitter();
        this.onChangeCallback = (_) => { };
        this.onTouchedCallback = () => { };
        if (this.ngControl) {
            // Note: we provide the value accessor through here, instead of
            // the `providers` to avoid running into a circular import.
            this.ngControl.valueAccessor = this;
        }
    }
    /** Sets the id of the switcher */
    set id(value) {
        this._id = value;
        this._cdr.markForCheck();
    }
    get id() {
        return this._id;
    }
    /** Specifies the placement of the label */
    set labelPosition(value) {
        this._labelPosition = value;
        this._cdr.markForCheck();
    }
    get labelPosition() {
        return this._labelPosition;
    }
    /** Sets the label text of the switcher */
    set name(value) {
        this._name = value;
        this._cdr.markForCheck();
    }
    get name() {
        return this._name;
    }
    /** Whether the switcher is checked (on) or unchecked (off) */
    set checked(value) {
        this._checked = value;
        this._cdr.markForCheck();
    }
    get checked() {
        return this._checked;
    }
    /** Whether the big switcher is used */
    set big(value) {
        const newValue = coerceBooleanProperty(value);
        this._big = newValue;
        this._cdr.markForCheck();
    }
    get big() {
        return this._big;
    }
    /** Sets the size of the label */
    set labelSize(value) {
        this._labelSize = value;
        this._cdr.markForCheck();
    }
    get labelSize() {
        return this._labelSize;
    }
    /** Whether the style for a dark background is used */
    set negative(value) {
        const newValue = coerceBooleanProperty(value);
        this._negative = newValue;
        this._cdr.markForCheck();
    }
    get negative() {
        return this._negative;
    }
    /** Whether the switcher is in the disabled state */
    set disabled(value) {
        const newValue = coerceBooleanProperty(value);
        this._disabled = newValue;
        this._cdr.markForCheck();
    }
    get disabled() {
        return this._disabled;
    }
    ngAfterViewInit() {
        this._focusMonitor.monitor(this._nativeInput);
    }
    ngOnDestroy() {
        this._focusMonitor.stopMonitoring(this._nativeInput);
    }
    /** Allows to toggle between the states */
    toggle() {
        if (!this.disabled) {
            this.checked = !this.checked;
            this.onChangeCallback(this.checked);
            this.checkedChange.emit(this.checked);
            if (this.onTouchedCallback) {
                this.onTouchedCallback();
            }
        }
    }
    writeValue(value) {
        if (value === null) {
            value = false;
        }
        if (value !== this.checked) {
            this.checked = value;
        }
    }
    registerOnChange(fn) {
        this.onChangeCallback = fn;
    }
    registerOnTouched(fn) {
        this.onTouchedCallback = fn;
    }
    ngDoCheck() {
        if (this.ngControl) {
            // We need to re-evaluate this on every change detection cycle, because there are some
            // error triggers that we can't subscribe to (e.g. parent form submissions). This means
            // that whatever logic is in here has to be super lean or we risk destroying the performance.
            this.updateErrorState();
        }
    }
    setDisabledState(isDisabled) {
        this.disabled = isDisabled;
    }
    /** @docs-private */
    touch() {
        this.onTouchedCallback();
    }
    /** @docs-private */
    updateErrorState() {
        const oldState = this.errorState;
        const parent = this._parentFormGroup || this._parentForm;
        const control = this.ngControl ? this.ngControl.control : null;
        const newState = this._errorStateMatcher.isErrorState(control, parent);
        if (newState !== oldState) {
            this.errorState = newState;
        }
    }
    /** @docs-private */
    get labelHasContent() {
        return !!this._switcherLabelWrapper.nativeElement.innerHTML.trim();
    }
    /** @docs-private
     * Callback for when the content of the label has changed.
     */
    labelContentChanged() {
        this._cdr.detectChanges();
    }
}
NxSwitcherComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.1", ngImport: i0, type: NxSwitcherComponent, deps: [{ token: i0.ChangeDetectorRef }, { token: i1.NgControl, optional: true, self: true }, { token: i2.ErrorStateMatcher }, { token: i1.NgForm, optional: true }, { token: i1.FormGroupDirective, optional: true }, { token: i3.FocusMonitor }], target: i0.ɵɵFactoryTarget.Component });
NxSwitcherComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.1", type: NxSwitcherComponent, selector: "nx-switcher", inputs: { id: "id", labelPosition: "labelPosition", name: "name", checked: "checked", big: ["nxBig", "big"], labelSize: "labelSize", negative: ["nxNegative", "negative"], disabled: "disabled" }, outputs: { checkedChange: "checkedChange" }, host: { properties: { "attr.id": "null", "class.is-negative": "negative", "class.is-checked": "checked", "class.is-big": "big", "class.nx-switcher--small-label": "labelSize === \"small\"", "class.nx-switcher--large-label": "labelSize === \"large\"", "class.is-disabled": "disabled", "class.is-swapped": "labelPosition === \"left\"", "class.has-error": "errorState", "attr.aria-invalid": "errorState" } }, viewQueries: [{ propertyName: "_switcherLabelWrapper", first: true, predicate: ["switcherLabelWrapper"], descendants: true, static: true }, { propertyName: "_nativeInput", first: true, predicate: ["input"], descendants: true }], ngImport: i0, template: "<input\n    #input\n    type=\"checkbox\"\n    [id]=\"id\"\n    [attr.name]=\"name\"\n    [disabled]=\"disabled\"\n    [checked]=\"checked\"\n    (click)=\"toggle()\"\n    (blur)=\"touch()\"\n    role=\"switch\"\n    [attr.aria-checked]=\"checked\"\n    class=\"nx-switcher__input\"\n/>\n<label [attr.for]=\"id\" class=\"nx-switcher__label\" [class.has-label]=\"labelHasContent\">\n    <div class=\"nx-switcher__toggle\">\n        <div class=\"nx-switcher__dot\">\n            <nx-icon *ngIf=\"big\" name=\"check\"></nx-icon>\n        </div>\n    </div>\n    <div class=\"nx-switcher__label-text\" #switcherLabelWrapper (cdkObserveContent)=\"labelContentChanged()\">\n        <ng-content></ng-content>\n    </div>\n</label>\n", styles: [":host{position:relative;display:flex}:host(.is-swapped) .nx-switcher__label{flex-direction:row-reverse}:host(.is-swapped) .nx-switcher__label.has-label .nx-switcher__toggle{margin-left:12px}[dir=rtl] :host(.is-swapped) .nx-switcher__label.has-label .nx-switcher__toggle{margin-right:12px;margin-left:0;margin-left:initial}.nx-switcher__input{opacity:0;position:absolute}.nx-switcher__label{font-size:var(--switcher-large-font-size);line-height:var(--switcher-large-line-height);font-weight:var(--switcher-large-font-weight);letter-spacing:var(--switcher-large-letter-spacing);cursor:pointer;display:flex;position:relative}.nx-switcher__toggle{position:relative;display:inline-block;width:48px;min-width:48px;height:24px;background-color:var(--switcher-unchecked-background-color);border-radius:16px;transition:background-color .2s ease}:host(:not(.is-swapped)) .has-label .nx-switcher__toggle{margin-right:12px}[dir=rtl] :host(:not(.is-swapped)) .has-label .nx-switcher__toggle{margin-right:0;margin-right:initial;margin-left:12px}.nx-switcher__dot{position:absolute;height:20px;width:20px;left:2px;bottom:2px;background-color:var(--switcher-dot-background-color);border-radius:16px;transform:translate(0);transition:transform .2s ease}:host-context([dir=rtl]) .nx-switcher__dot{right:2px;left:auto}:host(.is-checked) .nx-switcher__dot{transform:translate(24px)}[dir=rtl] :host(.is-checked) .nx-switcher__dot{transform:translate(-24px)}:host(.is-checked) .nx-switcher__toggle{background-color:var(--switcher-checked-background-color)}:host(.is-checked.is-negative) .nx-switcher__toggle{background-color:var(--negative-dimmed)}:host(.is-big) .nx-switcher__toggle{width:56px;min-width:56px;height:32px}:host(.is-big) .nx-switcher__dot{height:28px;width:28px}:host(.is-big) nx-icon{position:absolute;top:2px;left:2px;font-size:24px;opacity:0;color:var(--switcher-checked-icon-color)}[dir=rtl] :host(.is-big) nx-icon{right:2px;left:auto}:host(.is-big).is-checked nx-icon{opacity:1;transition:opacity .2s ease}:host(.is-big).nx-switcher--large-label .has-label .nx-switcher__label-text{margin-top:var(--switcher-big-large-label-text-margin-top)}:host(.is-big).nx-switcher--large-label .has-label .nx-switcher__toggle{margin-top:var(--switcher-big-large-label-control-margin-top)}:host(.is-big).nx-switcher--small-label .has-label .nx-switcher__label-text{margin-top:var(--switcher-big-small-label-text-margin-top)}:host(.is-big).nx-switcher--small-label .has-label .nx-switcher__toggle{margin-top:var(--switcher-big-small-label-control-margin-top)}:host(.nx-switcher--large-label) .has-label .nx-switcher__label-text{margin-top:var(--switcher-large-label-text-margin-top)}:host(.nx-switcher--large-label) .has-label .nx-switcher__toggle{margin-top:var(--switcher-large-label-control-margin-top)}:host(.nx-switcher--small-label) .nx-switcher__label{font-size:var(--switcher-small-font-size);line-height:var(--switcher-small-line-height);font-weight:var(--switcher-small-font-weight);letter-spacing:var(--switcher-small-letter-spacing)}:host(.nx-switcher--small-label) .has-label .nx-switcher__label-text{margin-top:var(--switcher-small-label-text-margin-top)}:host(.nx-switcher--small-label) .has-label .nx-switcher__toggle{margin-top:var(--switcher-small-label-control-margin-top)}:host(.is-negative) .nx-switcher__label{color:var(--negative)}:host(.is-negative) .nx-switcher__dot{background-color:var(--negative)}:host(.is-negative) .nx-switcher__toggle{background-color:var(--negative-dimmed)}:host .nx-switcher__input.cdk-keyboard-focused+.nx-switcher__label .nx-switcher__toggle{box-shadow:var(--focus-box-shadow)}@media screen and (-ms-high-contrast: active),(forced-colors: active){:host .nx-switcher__input.cdk-keyboard-focused+.nx-switcher__label .nx-switcher__toggle{box-shadow:0 0 0 2px background,0 0 0 6px windowText;outline:4px solid CanvasText;outline-offset:2px}}:host(.is-disabled) .nx-switcher__toggle{background-color:var(--switcher-disabled-background-color)}:host(.is-disabled) .nx-switcher__dot{background-color:var(--switcher-disabled-dot-background-color)}:host(.is-disabled) .nx-switcher__label{cursor:not-allowed;color:var(--switcher-disabled-text-color)}:host(.is-disabled) nx-icon{color:var(--switcher-disabled-icon-color)}:host(.has-error) .nx-switcher__toggle{background-color:var(--danger)}@media screen and (-ms-high-contrast: active){:host .nx-switcher__label,:host(.is-negative) .nx-switcher__label{color:buttonText}:host .nx-switcher__toggle,:host(.is-negative) .nx-switcher__toggle{forced-color-adjust:none;color:highlightText;background-color:highlight}:host:not(.is-checked) .nx-switcher__toggle,:host(.is-negative):not(.is-checked) .nx-switcher__toggle{background-color:buttonFace;border:2px solid buttonText;color:buttonText}:host:not(.is-checked) .nx-switcher__dot,:host(.is-negative):not(.is-checked) .nx-switcher__dot{left:0;bottom:0;box-shadow:0 0 0 2px buttonText;background-color:buttonText}:host.is-checked .nx-switcher__toggle,:host(.is-negative).is-checked .nx-switcher__toggle{background-color:highlight}:host.is-checked .nx-switcher__dot,:host(.is-negative).is-checked .nx-switcher__dot{background-color:highlightText}:host.is-checked .nx-switcher__dot nx-icon,:host(.is-negative).is-checked .nx-switcher__dot nx-icon{color:highlight}:host.is-disabled .nx-switcher__label,:host(.is-negative).is-disabled .nx-switcher__label{color:GrayText}:host.is-disabled .nx-switcher__toggle,:host(.is-negative).is-disabled .nx-switcher__toggle{color:GrayText}:host.is-disabled .nx-switcher__dot,:host(.is-negative).is-disabled .nx-switcher__dot{opacity:1;background-color:GrayText}:host.is-disabled:not(.is-checked) .nx-switcher__toggle,:host(.is-negative).is-disabled:not(.is-checked) .nx-switcher__toggle{border:2px solid GrayText}:host.is-disabled:not(.is-checked) .nx-switcher__dot,:host(.is-negative).is-disabled:not(.is-checked) .nx-switcher__dot{box-shadow:0 0 0 2px GrayText}:host.is-disabled.is-checked .nx-switcher__toggle,:host(.is-negative).is-disabled.is-checked .nx-switcher__toggle{background-color:GrayText}:host.is-disabled.is-checked .nx-switcher__dot,:host(.is-negative).is-disabled.is-checked .nx-switcher__dot{background-color:window}:host.is-disabled.is-checked .nx-switcher__dot nx-icon,:host(.is-negative).is-disabled.is-checked .nx-switcher__dot nx-icon{color:GrayText}}\n"], components: [{ type: i4.NxIconComponent, selector: "nx-icon", inputs: ["name", "outline", "fill", "size", "font"] }], directives: [{ type: i5.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i6.CdkObserveContent, selector: "[cdkObserveContent]", inputs: ["cdkObserveContentDisabled", "debounce"], outputs: ["cdkObserveContent"], exportAs: ["cdkObserveContent"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.1", ngImport: i0, type: NxSwitcherComponent, decorators: [{
            type: Component,
            args: [{ selector: 'nx-switcher', changeDetection: ChangeDetectionStrategy.OnPush, host: {
                        /* the host id should be set to null, otherwise nx-switcher and its <input> get the same id
                    and on label click the input click is not triggered (double id problem) */
                        '[attr.id]': 'null',
                        '[class.is-negative]': 'negative',
                        '[class.is-checked]': 'checked',
                        '[class.is-big]': 'big',
                        '[class.nx-switcher--small-label]': 'labelSize === "small"',
                        '[class.nx-switcher--large-label]': 'labelSize === "large"',
                        '[class.is-disabled]': 'disabled',
                        '[class.is-swapped]': 'labelPosition === "left"',
                        '[class.has-error]': 'errorState',
                        '[attr.aria-invalid]': 'errorState',
                    }, template: "<input\n    #input\n    type=\"checkbox\"\n    [id]=\"id\"\n    [attr.name]=\"name\"\n    [disabled]=\"disabled\"\n    [checked]=\"checked\"\n    (click)=\"toggle()\"\n    (blur)=\"touch()\"\n    role=\"switch\"\n    [attr.aria-checked]=\"checked\"\n    class=\"nx-switcher__input\"\n/>\n<label [attr.for]=\"id\" class=\"nx-switcher__label\" [class.has-label]=\"labelHasContent\">\n    <div class=\"nx-switcher__toggle\">\n        <div class=\"nx-switcher__dot\">\n            <nx-icon *ngIf=\"big\" name=\"check\"></nx-icon>\n        </div>\n    </div>\n    <div class=\"nx-switcher__label-text\" #switcherLabelWrapper (cdkObserveContent)=\"labelContentChanged()\">\n        <ng-content></ng-content>\n    </div>\n</label>\n", styles: [":host{position:relative;display:flex}:host(.is-swapped) .nx-switcher__label{flex-direction:row-reverse}:host(.is-swapped) .nx-switcher__label.has-label .nx-switcher__toggle{margin-left:12px}[dir=rtl] :host(.is-swapped) .nx-switcher__label.has-label .nx-switcher__toggle{margin-right:12px;margin-left:0;margin-left:initial}.nx-switcher__input{opacity:0;position:absolute}.nx-switcher__label{font-size:var(--switcher-large-font-size);line-height:var(--switcher-large-line-height);font-weight:var(--switcher-large-font-weight);letter-spacing:var(--switcher-large-letter-spacing);cursor:pointer;display:flex;position:relative}.nx-switcher__toggle{position:relative;display:inline-block;width:48px;min-width:48px;height:24px;background-color:var(--switcher-unchecked-background-color);border-radius:16px;transition:background-color .2s ease}:host(:not(.is-swapped)) .has-label .nx-switcher__toggle{margin-right:12px}[dir=rtl] :host(:not(.is-swapped)) .has-label .nx-switcher__toggle{margin-right:0;margin-right:initial;margin-left:12px}.nx-switcher__dot{position:absolute;height:20px;width:20px;left:2px;bottom:2px;background-color:var(--switcher-dot-background-color);border-radius:16px;transform:translate(0);transition:transform .2s ease}:host-context([dir=rtl]) .nx-switcher__dot{right:2px;left:auto}:host(.is-checked) .nx-switcher__dot{transform:translate(24px)}[dir=rtl] :host(.is-checked) .nx-switcher__dot{transform:translate(-24px)}:host(.is-checked) .nx-switcher__toggle{background-color:var(--switcher-checked-background-color)}:host(.is-checked.is-negative) .nx-switcher__toggle{background-color:var(--negative-dimmed)}:host(.is-big) .nx-switcher__toggle{width:56px;min-width:56px;height:32px}:host(.is-big) .nx-switcher__dot{height:28px;width:28px}:host(.is-big) nx-icon{position:absolute;top:2px;left:2px;font-size:24px;opacity:0;color:var(--switcher-checked-icon-color)}[dir=rtl] :host(.is-big) nx-icon{right:2px;left:auto}:host(.is-big).is-checked nx-icon{opacity:1;transition:opacity .2s ease}:host(.is-big).nx-switcher--large-label .has-label .nx-switcher__label-text{margin-top:var(--switcher-big-large-label-text-margin-top)}:host(.is-big).nx-switcher--large-label .has-label .nx-switcher__toggle{margin-top:var(--switcher-big-large-label-control-margin-top)}:host(.is-big).nx-switcher--small-label .has-label .nx-switcher__label-text{margin-top:var(--switcher-big-small-label-text-margin-top)}:host(.is-big).nx-switcher--small-label .has-label .nx-switcher__toggle{margin-top:var(--switcher-big-small-label-control-margin-top)}:host(.nx-switcher--large-label) .has-label .nx-switcher__label-text{margin-top:var(--switcher-large-label-text-margin-top)}:host(.nx-switcher--large-label) .has-label .nx-switcher__toggle{margin-top:var(--switcher-large-label-control-margin-top)}:host(.nx-switcher--small-label) .nx-switcher__label{font-size:var(--switcher-small-font-size);line-height:var(--switcher-small-line-height);font-weight:var(--switcher-small-font-weight);letter-spacing:var(--switcher-small-letter-spacing)}:host(.nx-switcher--small-label) .has-label .nx-switcher__label-text{margin-top:var(--switcher-small-label-text-margin-top)}:host(.nx-switcher--small-label) .has-label .nx-switcher__toggle{margin-top:var(--switcher-small-label-control-margin-top)}:host(.is-negative) .nx-switcher__label{color:var(--negative)}:host(.is-negative) .nx-switcher__dot{background-color:var(--negative)}:host(.is-negative) .nx-switcher__toggle{background-color:var(--negative-dimmed)}:host .nx-switcher__input.cdk-keyboard-focused+.nx-switcher__label .nx-switcher__toggle{box-shadow:var(--focus-box-shadow)}@media screen and (-ms-high-contrast: active),(forced-colors: active){:host .nx-switcher__input.cdk-keyboard-focused+.nx-switcher__label .nx-switcher__toggle{box-shadow:0 0 0 2px background,0 0 0 6px windowText;outline:4px solid CanvasText;outline-offset:2px}}:host(.is-disabled) .nx-switcher__toggle{background-color:var(--switcher-disabled-background-color)}:host(.is-disabled) .nx-switcher__dot{background-color:var(--switcher-disabled-dot-background-color)}:host(.is-disabled) .nx-switcher__label{cursor:not-allowed;color:var(--switcher-disabled-text-color)}:host(.is-disabled) nx-icon{color:var(--switcher-disabled-icon-color)}:host(.has-error) .nx-switcher__toggle{background-color:var(--danger)}@media screen and (-ms-high-contrast: active){:host .nx-switcher__label,:host(.is-negative) .nx-switcher__label{color:buttonText}:host .nx-switcher__toggle,:host(.is-negative) .nx-switcher__toggle{forced-color-adjust:none;color:highlightText;background-color:highlight}:host:not(.is-checked) .nx-switcher__toggle,:host(.is-negative):not(.is-checked) .nx-switcher__toggle{background-color:buttonFace;border:2px solid buttonText;color:buttonText}:host:not(.is-checked) .nx-switcher__dot,:host(.is-negative):not(.is-checked) .nx-switcher__dot{left:0;bottom:0;box-shadow:0 0 0 2px buttonText;background-color:buttonText}:host.is-checked .nx-switcher__toggle,:host(.is-negative).is-checked .nx-switcher__toggle{background-color:highlight}:host.is-checked .nx-switcher__dot,:host(.is-negative).is-checked .nx-switcher__dot{background-color:highlightText}:host.is-checked .nx-switcher__dot nx-icon,:host(.is-negative).is-checked .nx-switcher__dot nx-icon{color:highlight}:host.is-disabled .nx-switcher__label,:host(.is-negative).is-disabled .nx-switcher__label{color:GrayText}:host.is-disabled .nx-switcher__toggle,:host(.is-negative).is-disabled .nx-switcher__toggle{color:GrayText}:host.is-disabled .nx-switcher__dot,:host(.is-negative).is-disabled .nx-switcher__dot{opacity:1;background-color:GrayText}:host.is-disabled:not(.is-checked) .nx-switcher__toggle,:host(.is-negative).is-disabled:not(.is-checked) .nx-switcher__toggle{border:2px solid GrayText}:host.is-disabled:not(.is-checked) .nx-switcher__dot,:host(.is-negative).is-disabled:not(.is-checked) .nx-switcher__dot{box-shadow:0 0 0 2px GrayText}:host.is-disabled.is-checked .nx-switcher__toggle,:host(.is-negative).is-disabled.is-checked .nx-switcher__toggle{background-color:GrayText}:host.is-disabled.is-checked .nx-switcher__dot,:host(.is-negative).is-disabled.is-checked .nx-switcher__dot{background-color:window}:host.is-disabled.is-checked .nx-switcher__dot nx-icon,:host(.is-negative).is-disabled.is-checked .nx-switcher__dot nx-icon{color:GrayText}}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ChangeDetectorRef }, { type: i1.NgControl, decorators: [{
                    type: Optional
                }, {
                    type: Self
                }] }, { type: i2.ErrorStateMatcher }, { type: i1.NgForm, decorators: [{
                    type: Optional
                }] }, { type: i1.FormGroupDirective, decorators: [{
                    type: Optional
                }] }, { type: i3.FocusMonitor }]; }, propDecorators: { _switcherLabelWrapper: [{
                type: ViewChild,
                args: ['switcherLabelWrapper', { static: true }]
            }], _nativeInput: [{
                type: ViewChild,
                args: ['input']
            }], id: [{
                type: Input
            }], labelPosition: [{
                type: Input
            }], name: [{
                type: Input
            }], checked: [{
                type: Input
            }], big: [{
                type: Input,
                args: ['nxBig']
            }], labelSize: [{
                type: Input
            }], negative: [{
                type: Input,
                args: ['nxNegative']
            }], disabled: [{
                type: Input
            }], checkedChange: [{
                type: Output,
                args: ['checkedChange']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3dpdGNoZXIuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vcHJvamVjdHMvbmctYXF1aWxhL3NyYy9zd2l0Y2hlci9zd2l0Y2hlci5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZy1hcXVpbGEvc3JjL3N3aXRjaGVyL3N3aXRjaGVyLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBZ0IscUJBQXFCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUM1RSxPQUFPLEVBRUgsdUJBQXVCLEVBRXZCLFNBQVMsRUFHVCxZQUFZLEVBQ1osS0FBSyxFQUVMLFFBQVEsRUFDUixNQUFNLEVBQ04sSUFBSSxFQUNKLFNBQVMsR0FDWixNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQXFCLFlBQVksRUFBRSxNQUFNLHlCQUF5QixDQUFDOzs7Ozs7OztBQUUxRSxJQUFJLE1BQU0sR0FBRyxDQUFDLENBQUM7QUEwQmYsTUFBTSxPQUFPLG1CQUFtQjtJQTBHNUIsWUFDWSxJQUF1QixFQUNKLFNBQTJCLEVBQzlDLGtCQUFxQyxFQUN6QixXQUEwQixFQUMxQixnQkFBMkMsRUFDdkQsYUFBMkI7UUFMM0IsU0FBSSxHQUFKLElBQUksQ0FBbUI7UUFDSixjQUFTLEdBQVQsU0FBUyxDQUFrQjtRQUM5Qyx1QkFBa0IsR0FBbEIsa0JBQWtCLENBQW1CO1FBQ3pCLGdCQUFXLEdBQVgsV0FBVyxDQUFlO1FBQzFCLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBMkI7UUFDdkQsa0JBQWEsR0FBYixhQUFhLENBQWM7UUEvRy9CLFFBQUcsR0FBRyxlQUFlLE1BQU0sRUFBRSxJQUFJLFlBQVksRUFBRSxFQUFFLENBQUM7UUFDMUQsb0JBQW9CO1FBQ3BCLGVBQVUsR0FBRyxLQUFLLENBQUM7UUFpQlgsbUJBQWMsR0FBYSxPQUFPLENBQUM7UUFXbkMsVUFBSyxHQUFrQixJQUFJLENBQUM7UUFX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LENBQUMsYUFBYSxFQUFFLENBQUM7SUFDOUIsQ0FBQzs7Z0hBdE1RLG1CQUFtQjtvR0FBbkIsbUJBQW1CLDY1QkM5Q2hDLHV0QkF1QkE7MkZEdUJhLG1CQUFtQjtrQkFwQi9CLFNBQVM7K0JBQ0ksYUFBYSxtQkFHTix1QkFBdUIsQ0FBQyxNQUFNLFFBQ3pDO3dCQUNGOzhGQUNzRTt3QkFDdEUsV0FBVyxFQUFFLE1BQU07d0JBQ25CLHFCQUFxQixFQUFFLFVBQVU7d0JBQ2pDLG9CQUFvQixFQUFFLFNBQVM7d0JBQy9CLGdCQUFnQixFQUFFLEtBQUs7d0JBQ3ZCLGtDQUFrQyxFQUFFLHVCQUF1Qjt3QkFDM0Qsa0NBQWtDLEVBQUUsdUJBQXVCO3dCQUMzRCxxQkFBcUIsRUFBRSxVQUFVO3dCQUNqQyxvQkFBb0IsRUFBRSwwQkFBMEI7d0JBQ2hELG1CQUFtQixFQUFFLFlBQVk7d0JBQ2pDLHFCQUFxQixFQUFFLFlBQVk7cUJBQ3RDOzswQkE4R0ksUUFBUTs7MEJBQUksSUFBSTs7MEJBRWhCLFFBQVE7OzBCQUNSLFFBQVE7dUVBekd3QyxxQkFBcUI7c0JBQXpFLFNBQVM7dUJBQUMsc0JBQXNCLEVBQUUsRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFO2dCQUUvQixZQUFZO3NCQUEvQixTQUFTO3VCQUFDLE9BQU87Z0JBSWQsRUFBRTtzQkFETCxLQUFLO2dCQVlGLGFBQWE7c0JBRGhCLEtBQUs7Z0JBWUYsSUFBSTtzQkFEUCxLQUFLO2dCQVlGLE9BQU87c0JBRFYsS0FBSztnQkFZRixHQUFHO3NCQUROLEtBQUs7dUJBQUMsT0FBTztnQkFhVixTQUFTO3NCQURaLEtBQUs7Z0JBWUYsUUFBUTtzQkFEWCxLQUFLO3VCQUFDLFlBQVk7Z0JBYWYsUUFBUTtzQkFEWCxLQUFLO2dCQVdtQixhQUFhO3NCQUFyQyxNQUFNO3VCQUFDLGVBQWUiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBGb2N1c01vbml0b3IgfSBmcm9tICdAYW5ndWxhci9jZGsvYTExeSc7XG5pbXBvcnQgeyBCb29sZWFuSW5wdXQsIGNvZXJjZUJvb2xlYW5Qcm9wZXJ0eSB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9jb2VyY2lvbic7XG5pbXBvcnQge1xuICAgIEFmdGVyVmlld0luaXQsXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gICAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gICAgQ29tcG9uZW50LFxuICAgIERvQ2hlY2ssXG4gICAgRWxlbWVudFJlZixcbiAgICBFdmVudEVtaXR0ZXIsXG4gICAgSW5wdXQsXG4gICAgT25EZXN0cm95LFxuICAgIE9wdGlvbmFsLFxuICAgIE91dHB1dCxcbiAgICBTZWxmLFxuICAgIFZpZXdDaGlsZCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb250cm9sVmFsdWVBY2Nlc3NvciwgRm9ybUNvbnRyb2wsIEZvcm1Hcm91cERpcmVjdGl2ZSwgTmdDb250cm9sLCBOZ0Zvcm0gfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBFcnJvclN0YXRlTWF0Y2hlciwgcmFuZG9tU3RyaW5nIH0gZnJvbSAnQGFwb3Npbi9uZy1hcXVpbGEvdXRpbHMnO1xuXG5sZXQgbmV4dElkID0gMDtcbi8qKiBPcHRpb25zIGZvciBwbGFjZW1lbnQgb2YgdGhlIGxhYmVsICovXG5leHBvcnQgdHlwZSBQT1NJVElPTiA9ICdsZWZ0JyB8ICdyaWdodCc7XG4vKiogT3B0aW9ucyBmb3Igc2l6aW5nIG9mIHRoZSBsYWJlbCAqL1xuZXhwb3J0IHR5cGUgTEFCRUxfU0laRSA9ICdzbWFsbCcgfCAnbGFyZ2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ254LXN3aXRjaGVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJ3N3aXRjaGVyLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9zd2l0Y2hlci5jb21wb25lbnQuc2NzcyddLFxuICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgIGhvc3Q6IHtcbiAgICAgICAgLyogdGhlIGhvc3QgaWQgc2hvdWxkIGJlIHNldCB0byBudWxsLCBvdGhlcndpc2Ugbngtc3dpdGNoZXIgYW5kIGl0cyA8aW5wdXQ+IGdldCB0aGUgc2FtZSBpZFxuICAgIGFuZCBvbiBsYWJlbCBjbGljayB0aGUgaW5wdXQgY2xpY2sgaXMgbm90IHRyaWdnZXJlZCAoZG91YmxlIGlkIHByb2JsZW0pICovXG4gICAgICAgICdbYXR0ci5pZF0nOiAnbnVsbCcsXG4gICAgICAgICdbY2xhc3MuaXMtbmVnYXRpdmVdJzogJ25lZ2F0aXZlJyxcbiAgICAgICAgJ1tjbGFzcy5pcy1jaGVja2VkXSc6ICdjaGVja2VkJyxcbiAgICAgICAgJ1tjbGFzcy5pcy1iaWddJzogJ2JpZycsXG4gICAgICAgICdbY2xhc3Mubngtc3dpdGNoZXItLXNtYWxsLWxhYmVsXSc6ICdsYWJlbFNpemUgPT09IFwic21hbGxcIicsXG4gICAgICAgICdbY2xhc3Mubngtc3dpdGNoZXItLWxhcmdlLWxhYmVsXSc6ICdsYWJlbFNpemUgPT09IFwibGFyZ2VcIicsXG4gICAgICAgICdbY2xhc3MuaXMtZGlzYWJsZWRdJzogJ2Rpc2FibGVkJyxcbiAgICAgICAgJ1tjbGFzcy5pcy1zd2FwcGVkXSc6ICdsYWJlbFBvc2l0aW9uID09PSBcImxlZnRcIicsXG4gICAgICAgICdbY2xhc3MuaGFzLWVycm9yXSc6ICdlcnJvclN0YXRlJyxcbiAgICAgICAgJ1thdHRyLmFyaWEtaW52YWxpZF0nOiAnZXJyb3JTdGF0ZScsXG4gICAgfSxcbn0pXG5leHBvcnQgY2xhc3MgTnhTd2l0Y2hlckNvbXBvbmVudCBpbXBsZW1lbnRzIENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBEb0NoZWNrLCBBZnRlclZpZXdJbml0LCBPbkRlc3Ryb3kge1xuICAgIHByaXZhdGUgX2lkID0gYG54LXN3aXRjaGVyLSR7bmV4dElkKyt9LSR7cmFuZG9tU3RyaW5nKCl9YDtcbiAgICAvKiogQGRvY3MtcHJpdmF0ZSAqL1xuICAgIGVycm9yU3RhdGUgPSBmYWxzZTtcblxuICAgIC8qKiBAZG9jcy1wcml2YXRlICovXG4gICAgQFZpZXdDaGlsZCgnc3dpdGNoZXJMYWJlbFdyYXBwZXInLCB7IHN0YXRpYzogdHJ1ZSB9KSBfc3dpdGNoZXJMYWJlbFdyYXBwZXIhOiBFbGVtZW50UmVmO1xuXG4gICAgQFZpZXdDaGlsZCgnaW5wdXQnKSBfbmF0aXZlSW5wdXQhOiBFbGVtZW50UmVmPEhUTUxFbGVtZW50PjtcblxuICAgIC8qKiBTZXRzIHRoZSBpZCBvZiB0aGUgc3dpdGNoZXIgKi9cbiAgICBASW5wdXQoKVxuICAgIHNldCBpZCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2lkID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2Nkci5tYXJrRm9yQ2hlY2soKTtcbiAgICB9XG4gICAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9sYWJlbFBvc2l0aW9uOiBQT1NJVElPTiA9ICdyaWdodCc7XG4gICAgLyoqIFNwZWNpZmllcyB0aGUgcGxhY2VtZW50IG9mIHRoZSBsYWJlbCAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2V0IGxhYmVsUG9zaXRpb24odmFsdWU6IFBPU0lUSU9OKSB7XG4gICAgICAgIHRoaXMuX2xhYmVsUG9zaXRpb24gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fY2RyLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgICBnZXQgbGFiZWxQb3NpdGlvbigpOiBQT1NJVElPTiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYWJlbFBvc2l0aW9uO1xuICAgIH1cblxuICAgIHByaXZhdGUgX25hbWU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIC8qKiBTZXRzIHRoZSBsYWJlbCB0ZXh0IG9mIHRoZSBzd2l0Y2hlciAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2V0IG5hbWUodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9uYW1lID0gdmFsdWU7XG4gICAgICAgIHRoaXMuX2Nkci5tYXJrRm9yQ2hlY2soKTtcbiAgICB9XG4gICAgZ2V0IG5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25hbWUgYXMgc3RyaW5nO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2NoZWNrZWQgPSBmYWxzZTtcbiAgICAvKiogV2hldGhlciB0aGUgc3dpdGNoZXIgaXMgY2hlY2tlZCAob24pIG9yIHVuY2hlY2tlZCAob2ZmKSAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2V0IGNoZWNrZWQodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fY2hlY2tlZCA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9jZHIubWFya0ZvckNoZWNrKCk7XG4gICAgfVxuICAgIGdldCBjaGVja2VkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hlY2tlZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9iaWcgPSBmYWxzZTtcbiAgICAvKiogV2hldGhlciB0aGUgYmlnIHN3aXRjaGVyIGlzIHVzZWQgKi9cbiAgICBASW5wdXQoJ254QmlnJylcbiAgICBzZXQgYmlnKHZhbHVlOiBCb29sZWFuSW5wdXQpIHtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBjb2VyY2VCb29sZWFuUHJvcGVydHkodmFsdWUpO1xuICAgICAgICB0aGlzLl9iaWcgPSBuZXdWYWx1ZTtcbiAgICAgICAgdGhpcy5fY2RyLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgICBnZXQgYmlnKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fYmlnO1xuICAgIH1cblxuICAgIHByaXZhdGUgX2xhYmVsU2l6ZTogTEFCRUxfU0laRSA9ICdsYXJnZSc7XG4gICAgLyoqIFNldHMgdGhlIHNpemUgb2YgdGhlIGxhYmVsICovXG4gICAgQElucHV0KClcbiAgICBzZXQgbGFiZWxTaXplKHZhbHVlOiBMQUJFTF9TSVpFKSB7XG4gICAgICAgIHRoaXMuX2xhYmVsU2l6ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLl9jZHIubWFya0ZvckNoZWNrKCk7XG4gICAgfVxuICAgIGdldCBsYWJlbFNpemUoKTogTEFCRUxfU0laRSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYWJlbFNpemU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfbmVnYXRpdmUgPSBmYWxzZTtcbiAgICAvKiogV2hldGhlciB0aGUgc3R5bGUgZm9yIGEgZGFyayBiYWNrZ3JvdW5kIGlzIHVzZWQgKi9cbiAgICBASW5wdXQoJ254TmVnYXRpdmUnKVxuICAgIHNldCBuZWdhdGl2ZSh2YWx1ZTogQm9vbGVhbklucHV0KSB7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gY29lcmNlQm9vbGVhblByb3BlcnR5KHZhbHVlKTtcbiAgICAgICAgdGhpcy5fbmVnYXRpdmUgPSBuZXdWYWx1ZTtcbiAgICAgICAgdGhpcy5fY2RyLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgICBnZXQgbmVnYXRpdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uZWdhdGl2ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9kaXNhYmxlZCA9IGZhbHNlO1xuICAgIC8qKiBXaGV0aGVyIHRoZSBzd2l0Y2hlciBpcyBpbiB0aGUgZGlzYWJsZWQgc3RhdGUgKi9cbiAgICBASW5wdXQoKVxuICAgIHNldCBkaXNhYmxlZCh2YWx1ZTogQm9vbGVhbklucHV0KSB7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gY29lcmNlQm9vbGVhblByb3BlcnR5KHZhbHVlKTtcbiAgICAgICAgdGhpcy5fZGlzYWJsZWQgPSBuZXdWYWx1ZTtcbiAgICAgICAgdGhpcy5fY2RyLm1hcmtGb3JDaGVjaygpO1xuICAgIH1cbiAgICBnZXQgZGlzYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNhYmxlZDtcbiAgICB9XG5cbiAgICAvKiogQW4gZXZlbnQgaXMgZGlzcGF0Y2hlZCBlYWNoIHRpbWUgdGhlIHN3aXRjaGVyIHZhbHVlIGlzIGNoYW5nZWQgKi9cbiAgICBAT3V0cHV0KCdjaGVja2VkQ2hhbmdlJykgY2hlY2tlZENoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcblxuICAgIHByaXZhdGUgb25DaGFuZ2VDYWxsYmFjayA9IChfOiBhbnkpID0+IHt9O1xuICAgIHByaXZhdGUgb25Ub3VjaGVkQ2FsbGJhY2sgPSAoKSA9PiB7fTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIF9jZHI6IENoYW5nZURldGVjdG9yUmVmLFxuICAgICAgICBAT3B0aW9uYWwoKSBAU2VsZigpIHB1YmxpYyBuZ0NvbnRyb2w6IE5nQ29udHJvbCB8IG51bGwsXG4gICAgICAgIHByaXZhdGUgX2Vycm9yU3RhdGVNYXRjaGVyOiBFcnJvclN0YXRlTWF0Y2hlcixcbiAgICAgICAgQE9wdGlvbmFsKCkgcHJpdmF0ZSBfcGFyZW50Rm9ybTogTmdGb3JtIHwgbnVsbCxcbiAgICAgICAgQE9wdGlvbmFsKCkgcHJpdmF0ZSBfcGFyZW50Rm9ybUdyb3VwOiBGb3JtR3JvdXBEaXJlY3RpdmUgfCBudWxsLFxuICAgICAgICBwcml2YXRlIF9mb2N1c01vbml0b3I6IEZvY3VzTW9uaXRvcixcbiAgICApIHtcbiAgICAgICAgaWYgKHRoaXMubmdDb250cm9sKSB7XG4gICAgICAgICAgICAvLyBOb3RlOiB3ZSBwcm92aWRlIHRoZSB2YWx1ZSBhY2Nlc3NvciB0aHJvdWdoIGhlcmUsIGluc3RlYWQgb2ZcbiAgICAgICAgICAgIC8vIHRoZSBgcHJvdmlkZXJzYCB0byBhdm9pZCBydW5uaW5nIGludG8gYSBjaXJjdWxhciBpbXBvcnQuXG4gICAgICAgICAgICB0aGlzLm5nQ29udHJvbC52YWx1ZUFjY2Vzc29yID0gdGhpcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgdGhpcy5fZm9jdXNNb25pdG9yLm1vbml0b3IodGhpcy5fbmF0aXZlSW5wdXQpO1xuICAgIH1cblxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9mb2N1c01vbml0b3Iuc3RvcE1vbml0b3JpbmcodGhpcy5fbmF0aXZlSW5wdXQpO1xuICAgIH1cblxuICAgIC8qKiBBbGxvd3MgdG8gdG9nZ2xlIGJldHdlZW4gdGhlIHN0YXRlcyAqL1xuICAgIHRvZ2dsZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrZWQgPSAhdGhpcy5jaGVja2VkO1xuICAgICAgICAgICAgdGhpcy5vbkNoYW5nZUNhbGxiYWNrKHRoaXMuY2hlY2tlZCk7XG4gICAgICAgICAgICB0aGlzLmNoZWNrZWRDaGFuZ2UuZW1pdCh0aGlzLmNoZWNrZWQpO1xuICAgICAgICAgICAgaWYgKHRoaXMub25Ub3VjaGVkQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVG91Y2hlZENhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB3cml0ZVZhbHVlKHZhbHVlOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5jaGVja2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrZWQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlZ2lzdGVyT25DaGFuZ2UoZm46IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLm9uQ2hhbmdlQ2FsbGJhY2sgPSBmbjtcbiAgICB9XG5cbiAgICByZWdpc3Rlck9uVG91Y2hlZChmbjogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMub25Ub3VjaGVkQ2FsbGJhY2sgPSBmbjtcbiAgICB9XG5cbiAgICBuZ0RvQ2hlY2soKSB7XG4gICAgICAgIGlmICh0aGlzLm5nQ29udHJvbCkge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byByZS1ldmFsdWF0ZSB0aGlzIG9uIGV2ZXJ5IGNoYW5nZSBkZXRlY3Rpb24gY3ljbGUsIGJlY2F1c2UgdGhlcmUgYXJlIHNvbWVcbiAgICAgICAgICAgIC8vIGVycm9yIHRyaWdnZXJzIHRoYXQgd2UgY2FuJ3Qgc3Vic2NyaWJlIHRvIChlLmcuIHBhcmVudCBmb3JtIHN1Ym1pc3Npb25zKS4gVGhpcyBtZWFuc1xuICAgICAgICAgICAgLy8gdGhhdCB3aGF0ZXZlciBsb2dpYyBpcyBpbiBoZXJlIGhhcyB0byBiZSBzdXBlciBsZWFuIG9yIHdlIHJpc2sgZGVzdHJveWluZyB0aGUgcGVyZm9ybWFuY2UuXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUVycm9yU3RhdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldERpc2FibGVkU3RhdGUoaXNEaXNhYmxlZDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmRpc2FibGVkID0gaXNEaXNhYmxlZDtcbiAgICB9XG5cbiAgICAvKiogQGRvY3MtcHJpdmF0ZSAqL1xuICAgIHRvdWNoKCkge1xuICAgICAgICB0aGlzLm9uVG91Y2hlZENhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgLyoqIEBkb2NzLXByaXZhdGUgKi9cbiAgICB1cGRhdGVFcnJvclN0YXRlKCkge1xuICAgICAgICBjb25zdCBvbGRTdGF0ZSA9IHRoaXMuZXJyb3JTdGF0ZTtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5fcGFyZW50Rm9ybUdyb3VwIHx8IHRoaXMuX3BhcmVudEZvcm07XG4gICAgICAgIGNvbnN0IGNvbnRyb2wgPSB0aGlzLm5nQ29udHJvbCA/ICh0aGlzLm5nQ29udHJvbC5jb250cm9sIGFzIEZvcm1Db250cm9sKSA6IG51bGw7XG4gICAgICAgIGNvbnN0IG5ld1N0YXRlID0gdGhpcy5fZXJyb3JTdGF0ZU1hdGNoZXIuaXNFcnJvclN0YXRlKGNvbnRyb2wsIHBhcmVudCk7XG5cbiAgICAgICAgaWYgKG5ld1N0YXRlICE9PSBvbGRTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5lcnJvclN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogQGRvY3MtcHJpdmF0ZSAqL1xuICAgIGdldCBsYWJlbEhhc0NvbnRlbnQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX3N3aXRjaGVyTGFiZWxXcmFwcGVyLm5hdGl2ZUVsZW1lbnQuaW5uZXJIVE1MLnRyaW0oKTtcbiAgICB9XG5cbiAgICAvKiogQGRvY3MtcHJpdmF0ZVxuICAgICAqIENhbGxiYWNrIGZvciB3aGVuIHRoZSBjb250ZW50IG9mIHRoZSBsYWJlbCBoYXMgY2hhbmdlZC5cbiAgICAgKi9cbiAgICBsYWJlbENvbnRlbnRDaGFuZ2VkKCkge1xuICAgICAgICB0aGlzLl9jZHIuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cbn1cbiIsIjxpbnB1dFxuICAgICNpbnB1dFxuICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgW2lkXT1cImlkXCJcbiAgICBbYXR0ci5uYW1lXT1cIm5hbWVcIlxuICAgIFtkaXNhYmxlZF09XCJkaXNhYmxlZFwiXG4gICAgW2NoZWNrZWRdPVwiY2hlY2tlZFwiXG4gICAgKGNsaWNrKT1cInRvZ2dsZSgpXCJcbiAgICAoYmx1cik9XCJ0b3VjaCgpXCJcbiAgICByb2xlPVwic3dpdGNoXCJcbiAgICBbYXR0ci5hcmlhLWNoZWNrZWRdPVwiY2hlY2tlZFwiXG4gICAgY2xhc3M9XCJueC1zd2l0Y2hlcl9faW5wdXRcIlxuLz5cbjxsYWJlbCBbYXR0ci5mb3JdPVwiaWRcIiBjbGFzcz1cIm54LXN3aXRjaGVyX19sYWJlbFwiIFtjbGFzcy5oYXMtbGFiZWxdPVwibGFiZWxIYXNDb250ZW50XCI+XG4gICAgPGRpdiBjbGFzcz1cIm54LXN3aXRjaGVyX190b2dnbGVcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm54LXN3aXRjaGVyX19kb3RcIj5cbiAgICAgICAgICAgIDxueC1pY29uICpuZ0lmPVwiYmlnXCIgbmFtZT1cImNoZWNrXCI+PC9ueC1pY29uPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwibngtc3dpdGNoZXJfX2xhYmVsLXRleHRcIiAjc3dpdGNoZXJMYWJlbFdyYXBwZXIgKGNka09ic2VydmVDb250ZW50KT1cImxhYmVsQ29udGVudENoYW5nZWQoKVwiPlxuICAgICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gICAgPC9kaXY+XG48L2xhYmVsPlxuIl19