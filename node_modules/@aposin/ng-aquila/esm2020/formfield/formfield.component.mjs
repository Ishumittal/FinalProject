import { ChangeDetectionStrategy, Component, ContentChild, ContentChildren, Inject, InjectionToken, Input, Optional, ViewChild, ViewEncapsulation, } from '@angular/core';
import { getClassNameList } from '@aposin/ng-aquila/utils';
import { merge, Subject } from 'rxjs';
import { startWith, takeUntil } from 'rxjs/operators';
import { NxFormfieldAppendixDirective } from './appendix.directive';
import { NxFormfieldErrorDirective } from './error.directive';
import { NxFormfieldControl } from './formfield-control';
import { NxFormfieldHintDirective } from './hint.directive';
import { NxFormfieldLabelDirective } from './label.directive';
import { NxFormfieldNoteDirective } from './note.directive';
import { NxFormfieldPrefixDirective } from './prefix.directive';
import { NxFormfieldSuffixDirective } from './suffix.directive';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
const NX_STYLES = {
    negative: 'nx-formfield--negative',
};
let nextUniqueId = 0;
export const FORMFIELD_DEFAULT_OPTIONS = new InjectionToken('FORMFIELD_DEFAULT_OPTIONS');
export class NxFormfieldComponent {
    constructor(
    /** @docs-private */ elementRef, renderer, _cdr, _defaultOptions) {
        this.elementRef = elementRef;
        this.renderer = renderer;
        this._cdr = _cdr;
        this._defaultOptions = _defaultOptions;
        this._styles = '';
        /** Html id of the formfield label */
        this.labelId = `nx-formfield-label-${nextUniqueId++}`;
        this._destroyed = new Subject();
    }
    /**
     * Whether the label should float once the input is focused or filled (auto, default)
     * or force it to always float with a value of always to simulate a more static form.
     */
    get floatLabel() {
        return this._floatLabel || this._defaultOptions?.nxFloatLabel || 'auto';
    }
    set floatLabel(value) {
        if (value !== this._floatLabel) {
            this._floatLabel = value || 'auto';
            this._cdr.markForCheck();
        }
    }
    /**
     * Sets the styling of the formfield.
     * If 'negative', a negative set of stylings is used.
     */
    set styles(value) {
        if (this._styles === value) {
            return;
        }
        const classNames = getClassNameList(value, NX_STYLES);
        classNames.forEach(classStr => {
            this.renderer.addClass(this.elementRef.nativeElement, classStr);
        });
        this._styles = value;
    }
    /**
     * **Expert option**
     *
     * Sets the appearance of the formfield.
     */
    set appearance(value) {
        if (this._appearance !== value) {
            this._appearance = value;
            this._cdr.markForCheck();
        }
    }
    get appearance() {
        return this._appearance || this._defaultOptions?.appearance || 'auto';
    }
    get _shouldAlwaysFloat() {
        return this.floatLabel === 'always';
    }
    /** @docs-private */
    get shouldLabelFloat() {
        return this._control.shouldLabelFloat || this._shouldAlwaysFloat;
    }
    /** @docs-private */
    get control() {
        return this._control;
    }
    ngAfterContentInit() {
        let subscription;
        this._validateControlChild();
        if (this._control.controlType) {
            this.elementRef.nativeElement.classList.add(`nx-formfield--type-${this._control.controlType}`);
        }
        // Subscribe to changes in the child control state in order to update the form field UI.
        this._control.stateChanges.pipe(startWith(null), takeUntil(this._destroyed)).subscribe(() => {
            Promise.resolve().then(() => {
                this._syncDescribedByIds();
                this._cdr.markForCheck();
            });
        });
        merge(this._hintChildren.changes, this._appendixChildren.changes, this._prefixChildren.changes, this._suffixChildren.changes, this._noteChildren.changes)
            .pipe(startWith(null), takeUntil(this._destroyed))
            .subscribe(() => {
            this._cdr.markForCheck();
        });
        // Update the aria-described by when the number of errors changes.
        this._errorChildren.changes.pipe(startWith(null), takeUntil(this._destroyed)).subscribe(() => {
            Promise.resolve().then(() => {
                this._syncDescribedByIds();
                this._cdr.markForCheck();
            });
        });
    }
    ngAfterContentChecked() {
        this._validateControlChild();
    }
    ngOnDestroy() {
        this._destroyed.next();
        this._destroyed.complete();
    }
    /** @docs-private */
    getDisplayedMessage() {
        if (this._control.errorState && this._errorChildren && this._errorChildren.length > 0) {
            return 'error';
        }
        if (this._noteChildren && this._noteChildren.length > 0) {
            return 'note';
        }
        return '';
    }
    _syncDescribedByIds() {
        if (this._control) {
            let ids = [];
            ids = this._hintChildren.map(hint => hint.id);
            if (this.getDisplayedMessage() === 'note') {
                ids = [...this._noteChildren.map(hint => hint.id), ...ids];
            }
            else if (this._errorChildren) {
                ids = [...this._errorChildren.map(error => error.id), ...ids];
            }
            this._control.setDescribedByIds(ids);
        }
    }
    // Fail if the required control is missing.
    _validateControlChild() {
        if (!this._control) {
            throw new Error('Formfield must contain a NxFormfieldControl like input[nxInput] or a custom implementation');
        }
    }
    /** @docs-private */
    getConnectedOverlayOrigin() {
        return this._connectionContainerRef || this.elementRef;
    }
    /** @docs-private */
    _hasLabel() {
        return !!this._labelChild || !!this.label;
    }
    /** @docs-private
     * The placeholder is hidden when
     *  - the control is not empty
     *  - The label is not floated
     * */
    _hideControlPlaceholder() {
        return (!this.shouldLabelFloat && this._hasLabel()) || !this._control.empty;
    }
    _getTitle() {
        if (!this._labelChild) {
            return this.label ?? '';
        }
        return this._labelChild.el.nativeElement?.innerText;
    }
}
NxFormfieldComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.1", ngImport: i0, type: NxFormfieldComponent, deps: [{ token: i0.ElementRef }, { token: i0.Renderer2 }, { token: i0.ChangeDetectorRef }, { token: FORMFIELD_DEFAULT_OPTIONS, optional: true }], target: i0.ɵɵFactoryTarget.Component });
NxFormfieldComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.1", type: NxFormfieldComponent, selector: "nx-formfield", inputs: { label: ["nxLabel", "label"], floatLabel: ["nxFloatLabel", "floatLabel"], styles: ["nxStyle", "styles"], appearance: "appearance" }, host: { properties: { "class.nx-formfield": "true", "class.is-disabled": "this._control.disabled", "class.is-readonly": "this._control.readonly", "class.is-filled": "this._control.empty === false", "class.is-focused": "this._control.focused", "class.is-floating": "this.shouldLabelFloat", "class.has-error": "this._control.errorState", "class.has-outline": "this.appearance === \"outline\"", "class.has-hint": "this._hintChildren?.length > 0" } }, queries: [{ propertyName: "_control", first: true, predicate: NxFormfieldControl, descendants: true }, { propertyName: "_labelChild", first: true, predicate: NxFormfieldLabelDirective, descendants: true }, { propertyName: "_hintChildren", predicate: NxFormfieldHintDirective }, { propertyName: "_noteChildren", predicate: NxFormfieldNoteDirective }, { propertyName: "_errorChildren", predicate: NxFormfieldErrorDirective }, { propertyName: "_suffixChildren", predicate: NxFormfieldSuffixDirective }, { propertyName: "_prefixChildren", predicate: NxFormfieldPrefixDirective }, { propertyName: "_appendixChildren", predicate: NxFormfieldAppendixDirective }], viewQueries: [{ propertyName: "_connectionContainerRef", first: true, predicate: ["connectionContainer"], descendants: true, static: true }], ngImport: i0, template: "<!--\nWe are building the following structure.\n\n+-----------------------------+ +-----------+\n| Prefix |   Input   | Suffix | |  Appendix |\n+-----------------------------+ +-----------+\n|-----------------Border--------------------|\n+-------------------------------------------+\n|                 Hints                     |\n+-------------------------------------------+\n|                                           |\n|                Messages                   |\n|                                           |\n+-------------------------------------------+\n\n-->\n\n<div class=\"nx-formfield__wrapper\">\n    <!-- Give a flex context to properly align suffix, input & postfix -->\n    <div class=\"nx-formfield__row\">\n        <div class=\"nx-formfield__flexfield\">\n            <div class=\"nx-formfield__input-container\" #connectionContainer>\n                <div class=\"nx-formfield__prefix\" *ngIf=\"_prefixChildren.length\">\n                    <ng-content select=\"[nxFormfieldPrefix]\"></ng-content>\n                </div>\n\n                <div class=\"nx-formfield__input\" [title]=\"_getTitle()\">\n                    <!-- This handles the floating whole behavior -->\n                    <span class=\"nx-formfield__label-holder\">\n                        <label class=\"nx-formfield__label\" [id]=\"labelId\" [attr.aria-owns]=\"_control.id\" [attr.for]=\"_control.id\">\n                            <ng-container *ngIf=\"!_labelChild\">\n                                {{ label }}\n                            </ng-container>\n                            <ng-content select=\"nx-formfield-label\"></ng-content>\n                        </label>\n                    </span>\n\n                    <ng-content></ng-content>\n                </div>\n\n                <div class=\"nx-formfield__suffix\" *ngIf=\"_suffixChildren.length\">\n                    <ng-content select=\"[nxFormfieldSuffix]\"></ng-content>\n                </div>\n            </div>\n            <!-- Space to render the hints below the textfield -->\n            <div class=\"nx-formfield__hints\" *ngIf=\"_hintChildren.length\">\n                <ng-content select=\"[nxFormfieldHint]\"></ng-content>\n            </div>\n        </div>\n\n        <!-- Appendix is similar to a suffix but visibly outside of the input  -->\n        <div class=\"nx-formfield__appendix\" *ngIf=\"_appendixChildren.length\">\n            <ng-content select=\"[nxFormfieldAppendix]\"></ng-content>\n        </div>\n    </div>\n\n    <!-- In case we got some additional information we render them below the given input -->\n    <ng-container [ngSwitch]=\"getDisplayedMessage()\">\n        <div class=\"nx-formfield__message\" *ngSwitchCase=\"'error'\">\n            <ng-content select=\"[nxFormfieldError]\"></ng-content>\n        </div>\n\n        <div class=\"nx-formfield__message\" *ngSwitchCase=\"'note'\">\n            <ng-content select=\"[nxFormfieldNote]\"></ng-content>\n        </div>\n    </ng-container>\n</div>\n", styles: [".nx-formfield{display:block;color:var(--text-01)}.nx-formfield nx-message{margin-top:12px}.nx-formfield__wrapper{padding-bottom:var(--formfield-bottom-padding);padding-top:var(--formfield-label-height)}.has-hint .nx-formfield__wrapper{padding-bottom:0}.nx-formfield__row{min-height:var(--formfield-control-height);background-color:var(--formfield-background-color);display:flex;align-items:stretch;width:100%}.nx-formfield__row:after{content:\"\";font-size:0;display:block;min-height:inherit}.nx-formfield__flexfield{font-size:var(--formfield-control-font-size);line-height:var(--formfield-control-line-height);font-weight:var(--formfield-control-font-weight);letter-spacing:var(--formfield-control-letter-spacing);align-items:stretch;flex-direction:column;display:inline-flex;width:100%;position:relative;min-width:0;flex:0 1 auto}.nx-formfield__input-container{display:flex;border-bottom:var(--formfield-border-width) solid var(--formfield-border-color);height:var(--formfield-control-height);flex:auto;padding:var(--formfield-input-padding)}.nx-formfield__input{position:relative;flex:auto;min-width:0;display:flex;text-align:left}[dir=rtl] .nx-formfield__input{text-align:right}.nx-formfield__label-holder{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}[dir=rtl] .nx-formfield__label-holder{right:0;left:auto}.nx-formfield__label{font-size:var(--formfield-placeholder-label-font-size);line-height:var(--formfield-placeholder-label-line-height);font-weight:var(--formfield-placeholder-label-font-weight);letter-spacing:var(--formfield-placeholder-label-letter-spacing);color:var(--formfield-label-color);display:block;position:absolute;left:0;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .15s ease-out,font-size .15s ease-out;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;text-align:left}[dir=rtl] .nx-formfield__label{right:0;left:auto;text-align:right}.nx-formfield__appendix,.nx-formfield__prefix,.nx-formfield__suffix{align-items:center;flex:none;white-space:nowrap;color:var(--formfield-control-color)}.nx-formfield__appendix nx-icon.nx-icon--auto,.nx-formfield__prefix nx-icon.nx-icon--auto,.nx-formfield__suffix nx-icon.nx-icon--auto{font-size:var(--formfield-icon-size)}.nx-formfield__appendix nx-icon,.nx-formfield__prefix nx-icon,.nx-formfield__suffix nx-icon{display:block}.nx-formfield__prefix,.nx-formfield__suffix{display:inline-flex}.nx-formfield__appendix{height:var(--formfield-control-height);margin-left:8px;display:flex;border-bottom-style:solid;border-bottom-color:transparent;border-bottom-width:var(--formfield-border-width);padding:var(--formfield-input-padding)}[dir=rtl] .nx-formfield__appendix{margin-right:8px;margin-left:0;margin-left:initial}.nx-formfield__prefix{margin-right:8px}[dir=rtl] .nx-formfield__prefix{margin-right:0;margin-right:initial;margin-left:8px}.nx-formfield__suffix{margin-left:8px}[dir=rtl] .nx-formfield__suffix{margin-right:8px;margin-left:0;margin-left:initial}.nx-formfield__hints{color:var(--text-01);font-size:var(--formfield-hint-font-size);line-height:var(--formfield-hint-line-height);font-weight:var(--formfield-hint-font-weight);letter-spacing:var(--formfield-hint-letter-spacing);padding-top:8px;text-align:right}[dir=rtl] .nx-formfield__hints{text-align:left}.nx-formfield-hint{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.nx-formfield__message{margin-top:4px}.nx-formfield:not(.nx-formfield--negative) .nx-formfield__appendix nx-icon{color:var(--formfield-active-color)}.nx-formfield.is-focused .nx-formfield__label{text-overflow:ellipsis}.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error){color:var(--formfield-active-color)}.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error) .nx-formfield__input-container{border-bottom-color:var(--formfield-active-border-color)}.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error).nx-formfield--negative{color:var(--negative)}.nx-formfield:not(.nx-formfield--negative):not(.has-error):not(.is-disabled):not(.is-focused):not(.has-outline) .nx-formfield__row:hover .nx-formfield__input-container{border-bottom-color:var(--formfield-hover-border-color)}.nx-formfield.is-focused:not(.nx-formfield--negative).has-outline .nx-formfield__input-container{border-color:var(--formfield-outline-active-border-color);box-shadow:var(--formfield-outline-focus-box-shadow)}@media screen and (-ms-high-contrast: active){.nx-formfield.is-focused:not(.nx-formfield--negative).has-outline .nx-formfield__input-container{box-shadow:0 0 0 2px highlight;border:1px solid highlight}}.nx-formfield.is-focused:not(.nx-formfield--negative).has-outline.has-error .nx-formfield__input-container{border-bottom-color:var(--danger)}.nx-formfield.has-outline{font-size:var(--formfield-outline-control-font-size);line-height:var(--formfield-outline-control-line-height);font-weight:var(--formfield-outline-control-font-weight);letter-spacing:var(--formfield-outline-control-letter-spacing)}.nx-formfield.has-outline.nx-formfield--type-textarea .nx-formfield__input-container{height:auto}.nx-formfield.has-outline .nx-formfield__wrapper{padding-top:var(--formfield-outline-label-height)}.nx-formfield.has-outline .nx-formfield__row{min-height:var(--formfield-outline-control-height)}.nx-formfield.has-outline .nx-formfield__flexfield{font-size:var(--formfield-outline-control-font-size);line-height:var(--formfield-outline-control-line-height);font-weight:var(--formfield-outline-control-font-weight);letter-spacing:var(--formfield-outline-control-letter-spacing);padding:0}.nx-formfield.has-outline .nx-formfield__input-container{padding:0;border-width:var(--formfield-border-width);border-color:var(--formfield-outline-border-color);background-color:var(--formfield-outline-background-color);border-style:solid;border-radius:4px;height:var(--formfield-outline-control-height)}.nx-formfield.has-outline input,.nx-formfield.has-outline nx-dropdown .nx-dropdown__container,.nx-formfield.has-outline nx-multi-select .value{padding:0 7px}.nx-formfield.has-outline .nx-formfield__suffix{margin-right:7px;margin-left:0}[dir=rtl] .nx-formfield.has-outline .nx-formfield__suffix{margin-right:0;margin-left:7px}.nx-formfield.has-outline .nx-formfield__prefix{margin-left:7px;margin-right:0}[dir=rtl] .nx-formfield.has-outline .nx-formfield__prefix{margin-right:7px;margin-left:0}.nx-formfield.has-outline .nx-formfield__input textarea.nx-input{line-height:24px;padding:7px;min-height:var(--formfield-outline-control-line-height)}.nx-formfield.has-outline .nx-formfield__appendix{height:var(--formfield-outline-control-height);margin-left:8px;display:flex;border-top:var(--formfield-border-width) solid transparent;border-bottom:var(--formfield-border-width) solid transparent;padding:0}[dir=rtl] .nx-formfield.has-outline .nx-formfield__appendix{margin-left:0;margin-left:initial;margin-right:8px}.nx-formfield.has-outline .nx-formfield__hints{text-align:left;font-size:var(--formfield-outline-hint-font-size);line-height:var(--formfield-outline-hint-line-height);font-weight:var(--formfield-outline-hint-font-weight);letter-spacing:var(--formfield-outline-hint-letter-spacing)}[dir=rtl] .nx-formfield.has-outline .nx-formfield__hints{text-align:right}.nx-formfield.has-outline input::placeholder,.nx-formfield.has-outline textarea::placeholder{font-size:var(--formfield-outline-input-native-placeholder-font-size);line-height:var(--formfield-outline-input-native-placeholder-line-height);font-weight:var(--formfield-outline-input-native-placeholder-font-weight);letter-spacing:var(--formfield-outline-input-native-placeholder-letter-spacing);color:var(--formfield-input-native-placeholder-color)}.nx-formfield.has-outline input::placeholder,.nx-formfield.has-outline textarea::placeholder{opacity:1}.nx-formfield.has-outline input::-moz-placeholder{line-height:calc(var(--formfield-outline-control-height) - 2 * var(--formfield-border-width))}.nx-formfield.has-outline.is-readonly:not(.is-disabled) .nx-formfield__input-container{border-color:var(--formfield-readonly-border-color);background-color:var(--formfield-readonly-background-color)}.nx-formfield:not(.has-outline).is-readonly:not(.is-disabled) .nx-formfield__input-container{border-bottom-color:var(--formfield-readonly-border-color)}.nx-formfield.is-floating .nx-formfield__label{transform:translateY(var(--formfield-floating-distance));font-size:var(--formfield-label-font-size);line-height:var(--formfield-label-line-height);font-weight:var(--formfield-label-font-weight);letter-spacing:var(--formfield-label-letter-spacing)}.nx-formfield.is-floating.is-filled .nx-formfield__label{transition:none}.nx-formfield.is-floating.has-outline .nx-formfield__label{padding-top:0;transform:translateY(var(--formfield-outline-floating-distance));font-size:var(--formfield-outline-label-font-size);line-height:var(--formfield-outline-label-line-height);font-weight:var(--formfield-outline-label-font-weight);letter-spacing:var(--formfield-outline-label-letter-spacing)}.nx-formfield.is-floating.has-outline .nx-formfield__prefix~.nx-formfield__input .nx-formfield__label{padding:0}.nx-formfield.is-floating.has-outline .nx-formfield__input-container{position:relative}.nx-formfield.is-floating.has-outline .nx-formfield__input{position:unset}.nx-formfield.has-error:not(.has-outline):not(.is-floating) .nx-formfield__label{font-weight:var(--formfield-error-input-font-weight)}.nx-formfield.has-error:not(.has-outline) .nx-formfield__prefix,.nx-formfield.has-error:not(.has-outline) .nx-formfield__suffix{font-weight:var(--formfield-error-input-font-weight)}.nx-formfield.has-error:not(.has-outline) .nx-formfield__input input.nx-input{font-weight:var(--formfield-error-input-font-weight)}.nx-formfield.has-error:not(.nx-formfield--negative){color:var(--danger)}.nx-formfield.has-error:not(.nx-formfield--negative):not(.has-outline) .nx-formfield__prefix,.nx-formfield.has-error:not(.nx-formfield--negative):not(.has-outline) .nx-formfield__suffix,.nx-formfield.has-error:not(.nx-formfield--negative):not(.has-outline) .nx-formfield__label{color:var(--danger)}.nx-formfield.has-error:not(.nx-formfield--negative) .nx-formfield__input-container{border-bottom-color:var(--danger)}.nx-formfield.has-error:not(.nx-formfield--negative).is-floating .nx-formfield__label{color:var(--formfield-label-color)}.nx-formfield.has-error:not(.nx-formfield--negative).has-outline{color:var(--text-01)}.nx-formfield.has-error:not(.nx-formfield--negative).has-outline .nx-formfield__input-container{border-color:var(--danger)}.nx-formfield.is-disabled{color:var(--formfield-disabled-text-color);-webkit-text-fill-color:var(--formfield-disabled-text-color);cursor:not-allowed}.nx-formfield.is-disabled .nx-formfield__hints{color:inherit}.nx-formfield.is-disabled .nx-formfield__input-container{border-bottom-color:var(--formfield-disabled-border-color)}.nx-formfield.is-disabled.has-outline .nx-formfield__input-container{border-color:var(--formfield-disabled-border-color)}.nx-formfield.is-disabled nx-datepicker-toggle button{color:var(--formfield-disabled-text-color)}.nx-formfield.is-readonly:not(.is-disabled) nx-datepicker-toggle button{color:var(--formfield-disabled-text-color)}.nx-formfield--negative{color:var(--negative)}.nx-formfield--negative .nx-formfield__hints{color:inherit}.nx-formfield--negative .nx-formfield__input-container,.nx-formfield--negative.has-outline .nx-formfield__input-container{border-color:var(--negative)}.nx-formfield--negative .nx-formfield__appendix,.nx-formfield--negative .nx-formfield__prefix,.nx-formfield--negative .nx-formfield__suffix,.nx-formfield--negative .nx-formfield__label{color:var(--negative)}.nx-formfield--type-nx-dropdown .nx-formfield__label,.nx-formfield--type-nx-multi-select .nx-formfield__label{width:calc(100% - var(--formfield-icon-size))}.nx-formfield__input textarea.nx-input{vertical-align:bottom;min-height:var(--formfield-control-line-height);resize:vertical}@media screen and (-ms-high-contrast: active){.nx-formfield__input-container,.nx-formfield.nx-formfield--negative .nx-formfield__input-container,.nx-formfield:not(.nx-formfield--negative):not(.has-error):not(.is-disabled):not(.is-focused):not(.has-outline) .nx-formfield__row:hover .nx-formfield__input-container,.nx-formfield.has-error:not(.nx-formfield--negative) .nx-formfield__input-container{border-bottom-color:buttonText}.nx-formfield.has-outline .nx-formfield__input-container{border-color:buttonText}.nx-formfield.has-outline .nx-formfield__appendix{border-bottom-color:window;border-top-color:window}.nx-formfield.is-disabled{color:GrayText;-webkit-text-fill-color:GrayText}.nx-formfield.is-disabled .nx-formfield__input-container{border-bottom-color:GrayText}.nx-formfield.is-disabled .nx-formfield__hints{color:windowText}.nx-formfield.is-disabled.has-outline .nx-formfield__input-container{border-color:GrayText}.nx-formfield.is-focused:not(.has-outline) .nx-formfield__input-container,.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error) .nx-formfield__input-container{border-bottom-color:highlight}.nx-formfield:not(.nx-formfield--negative) .nx-formfield__appendix nx-icon{color:inherit}}.nx-formfield--type-textarea .nx-formfield__flexfield{padding:0}.nx-formfield--type-textarea .nx-formfield__input-container{height:auto}input:-webkit-autofill{-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}input:-webkit-autofill:first-line{font-size:var(--formfield-control-font-size);line-height:var(--formfield-control-line-height);font-weight:var(--formfield-control-font-weight);letter-spacing:var(--formfield-control-letter-spacing);font-family:var(--font-family);color:var(--formfield-control-color)}.nx-formfield.has-outline input:-webkit-autofill:first-line{font-size:var(--formfield-outline-control-font-size);line-height:var(--formfield-outline-control-line-height);font-weight:var(--formfield-outline-control-font-weight);letter-spacing:var(--formfield-outline-control-letter-spacing)}\n", "@keyframes cdk-text-field-autofill-start{}@keyframes cdk-text-field-autofill-end{}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}textarea.cdk-textarea-autosize{resize:none;box-sizing:content-box}textarea.cdk-textarea-autosize-measuring{height:auto!important;overflow:hidden!important;padding:2px 0!important;box-sizing:content-box!important}.c-input{text-align:inherit;font-size:inherit;font-weight:inherit;background:0 0;color:inherit;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%}.c-input::-ms-clear{display:none}.c-input::-webkit-search-decoration,.c-input::-webkit-search-cancel-button,.c-input::-webkit-search-results-button,.c-input::-webkit-search-results-decoration{display:none;-webkit-appearance:none}.c-input::placeholder{-webkit-user-select:none;user-select:none;font-size:var(--formfield-input-native-placeholder-font-size);line-height:var(--formfield-input-native-placeholder-line-height);font-weight:var(--formfield-input-native-placeholder-font-weight);letter-spacing:var(--formfield-input-native-placeholder-letter-spacing);color:var(--formfield-input-native-placeholder-color);transition:color ease-in .1s .2s}.c-input::placeholder:-ms-input-placeholder{-ms-user-select:text}.c-input::-moz-placeholder{user-select:none;font-size:var(--formfield-input-native-placeholder-font-size);line-height:var(--formfield-input-native-placeholder-line-height);font-weight:var(--formfield-input-native-placeholder-font-weight);letter-spacing:var(--formfield-input-native-placeholder-letter-spacing);color:var(--formfield-input-native-placeholder-color);-moz-transition:color ease-in .1s .2s;transition:color ease-in .1s .2s}.c-input::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.c-input::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;font-size:var(--formfield-input-native-placeholder-font-size);line-height:var(--formfield-input-native-placeholder-line-height);font-weight:var(--formfield-input-native-placeholder-font-weight);letter-spacing:var(--formfield-input-native-placeholder-letter-spacing);color:var(--formfield-input-native-placeholder-color);-webkit-transition:color ease-in .1s .2s;transition:color ease-in .1s .2s}.c-input::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.c-input:-ms-input-placeholder{user-select:none;font-size:var(--formfield-input-native-placeholder-font-size);line-height:var(--formfield-input-native-placeholder-line-height);font-weight:var(--formfield-input-native-placeholder-font-weight);letter-spacing:var(--formfield-input-native-placeholder-letter-spacing);color:var(--formfield-input-native-placeholder-color);-ms-transition:color ease-in .1s .2s;transition:color ease-in .1s .2s}.c-input:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.c-input::-moz-placeholder{line-height:calc(var(--formfield-control-height) - var(--formfield-border-width))}textarea.c-input{height:auto;font-family:inherit}.c-input.is-focused{border:none;outline:none;box-shadow:none}.c-input.is-focused::placeholder{opacity:1;transition:opacity ease-in .2s .15s}.c-input.is-focused::-moz-placeholder{opacity:1;-moz-transition:opacity ease-in .2s .15s;transition:opacity ease-in .2s .15s}.c-input.is-focused::-webkit-input-placeholder{opacity:1;-webkit-transition:opacity ease-in .2s .15s;transition:opacity ease-in .2s .15s}.c-input.is-focused:-ms-input-placeholder{opacity:1;-ms-transition:opacity ease-in .2s .15s;transition:opacity ease-in .2s .15s}.c-input.is-disabled{cursor:not-allowed}textarea.nx-input-element{resize:vertical;overflow:auto}.c-input:invalid,.c-input:required{box-shadow:none}\n"], directives: [{ type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i1.NgSwitch, selector: "[ngSwitch]", inputs: ["ngSwitch"] }, { type: i1.NgSwitchCase, selector: "[ngSwitchCase]", inputs: ["ngSwitchCase"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush, encapsulation: i0.ViewEncapsulation.None });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.1", ngImport: i0, type: NxFormfieldComponent, decorators: [{
            type: Component,
            args: [{ selector: 'nx-formfield', host: {
                        '[class.nx-formfield]': 'true',
                        '[class.is-disabled]': 'this._control.disabled',
                        '[class.is-readonly]': 'this._control.readonly',
                        '[class.is-filled]': 'this._control.empty === false',
                        '[class.is-focused]': 'this._control.focused',
                        '[class.is-floating]': 'this.shouldLabelFloat',
                        '[class.has-error]': 'this._control.errorState',
                        '[class.has-outline]': 'this.appearance === "outline"',
                        '[class.has-hint]': 'this._hintChildren?.length > 0',
                    }, changeDetection: ChangeDetectionStrategy.OnPush, encapsulation: ViewEncapsulation.None, template: "<!--\nWe are building the following structure.\n\n+-----------------------------+ +-----------+\n| Prefix |   Input   | Suffix | |  Appendix |\n+-----------------------------+ +-----------+\n|-----------------Border--------------------|\n+-------------------------------------------+\n|                 Hints                     |\n+-------------------------------------------+\n|                                           |\n|                Messages                   |\n|                                           |\n+-------------------------------------------+\n\n-->\n\n<div class=\"nx-formfield__wrapper\">\n    <!-- Give a flex context to properly align suffix, input & postfix -->\n    <div class=\"nx-formfield__row\">\n        <div class=\"nx-formfield__flexfield\">\n            <div class=\"nx-formfield__input-container\" #connectionContainer>\n                <div class=\"nx-formfield__prefix\" *ngIf=\"_prefixChildren.length\">\n                    <ng-content select=\"[nxFormfieldPrefix]\"></ng-content>\n                </div>\n\n                <div class=\"nx-formfield__input\" [title]=\"_getTitle()\">\n                    <!-- This handles the floating whole behavior -->\n                    <span class=\"nx-formfield__label-holder\">\n                        <label class=\"nx-formfield__label\" [id]=\"labelId\" [attr.aria-owns]=\"_control.id\" [attr.for]=\"_control.id\">\n                            <ng-container *ngIf=\"!_labelChild\">\n                                {{ label }}\n                            </ng-container>\n                            <ng-content select=\"nx-formfield-label\"></ng-content>\n                        </label>\n                    </span>\n\n                    <ng-content></ng-content>\n                </div>\n\n                <div class=\"nx-formfield__suffix\" *ngIf=\"_suffixChildren.length\">\n                    <ng-content select=\"[nxFormfieldSuffix]\"></ng-content>\n                </div>\n            </div>\n            <!-- Space to render the hints below the textfield -->\n            <div class=\"nx-formfield__hints\" *ngIf=\"_hintChildren.length\">\n                <ng-content select=\"[nxFormfieldHint]\"></ng-content>\n            </div>\n        </div>\n\n        <!-- Appendix is similar to a suffix but visibly outside of the input  -->\n        <div class=\"nx-formfield__appendix\" *ngIf=\"_appendixChildren.length\">\n            <ng-content select=\"[nxFormfieldAppendix]\"></ng-content>\n        </div>\n    </div>\n\n    <!-- In case we got some additional information we render them below the given input -->\n    <ng-container [ngSwitch]=\"getDisplayedMessage()\">\n        <div class=\"nx-formfield__message\" *ngSwitchCase=\"'error'\">\n            <ng-content select=\"[nxFormfieldError]\"></ng-content>\n        </div>\n\n        <div class=\"nx-formfield__message\" *ngSwitchCase=\"'note'\">\n            <ng-content select=\"[nxFormfieldNote]\"></ng-content>\n        </div>\n    </ng-container>\n</div>\n", styles: [".nx-formfield{display:block;color:var(--text-01)}.nx-formfield nx-message{margin-top:12px}.nx-formfield__wrapper{padding-bottom:var(--formfield-bottom-padding);padding-top:var(--formfield-label-height)}.has-hint .nx-formfield__wrapper{padding-bottom:0}.nx-formfield__row{min-height:var(--formfield-control-height);background-color:var(--formfield-background-color);display:flex;align-items:stretch;width:100%}.nx-formfield__row:after{content:\"\";font-size:0;display:block;min-height:inherit}.nx-formfield__flexfield{font-size:var(--formfield-control-font-size);line-height:var(--formfield-control-line-height);font-weight:var(--formfield-control-font-weight);letter-spacing:var(--formfield-control-letter-spacing);align-items:stretch;flex-direction:column;display:inline-flex;width:100%;position:relative;min-width:0;flex:0 1 auto}.nx-formfield__input-container{display:flex;border-bottom:var(--formfield-border-width) solid var(--formfield-border-color);height:var(--formfield-control-height);flex:auto;padding:var(--formfield-input-padding)}.nx-formfield__input{position:relative;flex:auto;min-width:0;display:flex;text-align:left}[dir=rtl] .nx-formfield__input{text-align:right}.nx-formfield__label-holder{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}[dir=rtl] .nx-formfield__label-holder{right:0;left:auto}.nx-formfield__label{font-size:var(--formfield-placeholder-label-font-size);line-height:var(--formfield-placeholder-label-line-height);font-weight:var(--formfield-placeholder-label-font-weight);letter-spacing:var(--formfield-placeholder-label-letter-spacing);color:var(--formfield-label-color);display:block;position:absolute;left:0;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform .15s ease-out,font-size .15s ease-out;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;text-align:left}[dir=rtl] .nx-formfield__label{right:0;left:auto;text-align:right}.nx-formfield__appendix,.nx-formfield__prefix,.nx-formfield__suffix{align-items:center;flex:none;white-space:nowrap;color:var(--formfield-control-color)}.nx-formfield__appendix nx-icon.nx-icon--auto,.nx-formfield__prefix nx-icon.nx-icon--auto,.nx-formfield__suffix nx-icon.nx-icon--auto{font-size:var(--formfield-icon-size)}.nx-formfield__appendix nx-icon,.nx-formfield__prefix nx-icon,.nx-formfield__suffix nx-icon{display:block}.nx-formfield__prefix,.nx-formfield__suffix{display:inline-flex}.nx-formfield__appendix{height:var(--formfield-control-height);margin-left:8px;display:flex;border-bottom-style:solid;border-bottom-color:transparent;border-bottom-width:var(--formfield-border-width);padding:var(--formfield-input-padding)}[dir=rtl] .nx-formfield__appendix{margin-right:8px;margin-left:0;margin-left:initial}.nx-formfield__prefix{margin-right:8px}[dir=rtl] .nx-formfield__prefix{margin-right:0;margin-right:initial;margin-left:8px}.nx-formfield__suffix{margin-left:8px}[dir=rtl] .nx-formfield__suffix{margin-right:8px;margin-left:0;margin-left:initial}.nx-formfield__hints{color:var(--text-01);font-size:var(--formfield-hint-font-size);line-height:var(--formfield-hint-line-height);font-weight:var(--formfield-hint-font-weight);letter-spacing:var(--formfield-hint-letter-spacing);padding-top:8px;text-align:right}[dir=rtl] .nx-formfield__hints{text-align:left}.nx-formfield-hint{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.nx-formfield__message{margin-top:4px}.nx-formfield:not(.nx-formfield--negative) .nx-formfield__appendix nx-icon{color:var(--formfield-active-color)}.nx-formfield.is-focused .nx-formfield__label{text-overflow:ellipsis}.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error){color:var(--formfield-active-color)}.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error) .nx-formfield__input-container{border-bottom-color:var(--formfield-active-border-color)}.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error).nx-formfield--negative{color:var(--negative)}.nx-formfield:not(.nx-formfield--negative):not(.has-error):not(.is-disabled):not(.is-focused):not(.has-outline) .nx-formfield__row:hover .nx-formfield__input-container{border-bottom-color:var(--formfield-hover-border-color)}.nx-formfield.is-focused:not(.nx-formfield--negative).has-outline .nx-formfield__input-container{border-color:var(--formfield-outline-active-border-color);box-shadow:var(--formfield-outline-focus-box-shadow)}@media screen and (-ms-high-contrast: active){.nx-formfield.is-focused:not(.nx-formfield--negative).has-outline .nx-formfield__input-container{box-shadow:0 0 0 2px highlight;border:1px solid highlight}}.nx-formfield.is-focused:not(.nx-formfield--negative).has-outline.has-error .nx-formfield__input-container{border-bottom-color:var(--danger)}.nx-formfield.has-outline{font-size:var(--formfield-outline-control-font-size);line-height:var(--formfield-outline-control-line-height);font-weight:var(--formfield-outline-control-font-weight);letter-spacing:var(--formfield-outline-control-letter-spacing)}.nx-formfield.has-outline.nx-formfield--type-textarea .nx-formfield__input-container{height:auto}.nx-formfield.has-outline .nx-formfield__wrapper{padding-top:var(--formfield-outline-label-height)}.nx-formfield.has-outline .nx-formfield__row{min-height:var(--formfield-outline-control-height)}.nx-formfield.has-outline .nx-formfield__flexfield{font-size:var(--formfield-outline-control-font-size);line-height:var(--formfield-outline-control-line-height);font-weight:var(--formfield-outline-control-font-weight);letter-spacing:var(--formfield-outline-control-letter-spacing);padding:0}.nx-formfield.has-outline .nx-formfield__input-container{padding:0;border-width:var(--formfield-border-width);border-color:var(--formfield-outline-border-color);background-color:var(--formfield-outline-background-color);border-style:solid;border-radius:4px;height:var(--formfield-outline-control-height)}.nx-formfield.has-outline input,.nx-formfield.has-outline nx-dropdown .nx-dropdown__container,.nx-formfield.has-outline nx-multi-select .value{padding:0 7px}.nx-formfield.has-outline .nx-formfield__suffix{margin-right:7px;margin-left:0}[dir=rtl] .nx-formfield.has-outline .nx-formfield__suffix{margin-right:0;margin-left:7px}.nx-formfield.has-outline .nx-formfield__prefix{margin-left:7px;margin-right:0}[dir=rtl] .nx-formfield.has-outline .nx-formfield__prefix{margin-right:7px;margin-left:0}.nx-formfield.has-outline .nx-formfield__input textarea.nx-input{line-height:24px;padding:7px;min-height:var(--formfield-outline-control-line-height)}.nx-formfield.has-outline .nx-formfield__appendix{height:var(--formfield-outline-control-height);margin-left:8px;display:flex;border-top:var(--formfield-border-width) solid transparent;border-bottom:var(--formfield-border-width) solid transparent;padding:0}[dir=rtl] .nx-formfield.has-outline .nx-formfield__appendix{margin-left:0;margin-left:initial;margin-right:8px}.nx-formfield.has-outline .nx-formfield__hints{text-align:left;font-size:var(--formfield-outline-hint-font-size);line-height:var(--formfield-outline-hint-line-height);font-weight:var(--formfield-outline-hint-font-weight);letter-spacing:var(--formfield-outline-hint-letter-spacing)}[dir=rtl] .nx-formfield.has-outline .nx-formfield__hints{text-align:right}.nx-formfield.has-outline input::placeholder,.nx-formfield.has-outline textarea::placeholder{font-size:var(--formfield-outline-input-native-placeholder-font-size);line-height:var(--formfield-outline-input-native-placeholder-line-height);font-weight:var(--formfield-outline-input-native-placeholder-font-weight);letter-spacing:var(--formfield-outline-input-native-placeholder-letter-spacing);color:var(--formfield-input-native-placeholder-color)}.nx-formfield.has-outline input::placeholder,.nx-formfield.has-outline textarea::placeholder{opacity:1}.nx-formfield.has-outline input::-moz-placeholder{line-height:calc(var(--formfield-outline-control-height) - 2 * var(--formfield-border-width))}.nx-formfield.has-outline.is-readonly:not(.is-disabled) .nx-formfield__input-container{border-color:var(--formfield-readonly-border-color);background-color:var(--formfield-readonly-background-color)}.nx-formfield:not(.has-outline).is-readonly:not(.is-disabled) .nx-formfield__input-container{border-bottom-color:var(--formfield-readonly-border-color)}.nx-formfield.is-floating .nx-formfield__label{transform:translateY(var(--formfield-floating-distance));font-size:var(--formfield-label-font-size);line-height:var(--formfield-label-line-height);font-weight:var(--formfield-label-font-weight);letter-spacing:var(--formfield-label-letter-spacing)}.nx-formfield.is-floating.is-filled .nx-formfield__label{transition:none}.nx-formfield.is-floating.has-outline .nx-formfield__label{padding-top:0;transform:translateY(var(--formfield-outline-floating-distance));font-size:var(--formfield-outline-label-font-size);line-height:var(--formfield-outline-label-line-height);font-weight:var(--formfield-outline-label-font-weight);letter-spacing:var(--formfield-outline-label-letter-spacing)}.nx-formfield.is-floating.has-outline .nx-formfield__prefix~.nx-formfield__input .nx-formfield__label{padding:0}.nx-formfield.is-floating.has-outline .nx-formfield__input-container{position:relative}.nx-formfield.is-floating.has-outline .nx-formfield__input{position:unset}.nx-formfield.has-error:not(.has-outline):not(.is-floating) .nx-formfield__label{font-weight:var(--formfield-error-input-font-weight)}.nx-formfield.has-error:not(.has-outline) .nx-formfield__prefix,.nx-formfield.has-error:not(.has-outline) .nx-formfield__suffix{font-weight:var(--formfield-error-input-font-weight)}.nx-formfield.has-error:not(.has-outline) .nx-formfield__input input.nx-input{font-weight:var(--formfield-error-input-font-weight)}.nx-formfield.has-error:not(.nx-formfield--negative){color:var(--danger)}.nx-formfield.has-error:not(.nx-formfield--negative):not(.has-outline) .nx-formfield__prefix,.nx-formfield.has-error:not(.nx-formfield--negative):not(.has-outline) .nx-formfield__suffix,.nx-formfield.has-error:not(.nx-formfield--negative):not(.has-outline) .nx-formfield__label{color:var(--danger)}.nx-formfield.has-error:not(.nx-formfield--negative) .nx-formfield__input-container{border-bottom-color:var(--danger)}.nx-formfield.has-error:not(.nx-formfield--negative).is-floating .nx-formfield__label{color:var(--formfield-label-color)}.nx-formfield.has-error:not(.nx-formfield--negative).has-outline{color:var(--text-01)}.nx-formfield.has-error:not(.nx-formfield--negative).has-outline .nx-formfield__input-container{border-color:var(--danger)}.nx-formfield.is-disabled{color:var(--formfield-disabled-text-color);-webkit-text-fill-color:var(--formfield-disabled-text-color);cursor:not-allowed}.nx-formfield.is-disabled .nx-formfield__hints{color:inherit}.nx-formfield.is-disabled .nx-formfield__input-container{border-bottom-color:var(--formfield-disabled-border-color)}.nx-formfield.is-disabled.has-outline .nx-formfield__input-container{border-color:var(--formfield-disabled-border-color)}.nx-formfield.is-disabled nx-datepicker-toggle button{color:var(--formfield-disabled-text-color)}.nx-formfield.is-readonly:not(.is-disabled) nx-datepicker-toggle button{color:var(--formfield-disabled-text-color)}.nx-formfield--negative{color:var(--negative)}.nx-formfield--negative .nx-formfield__hints{color:inherit}.nx-formfield--negative .nx-formfield__input-container,.nx-formfield--negative.has-outline .nx-formfield__input-container{border-color:var(--negative)}.nx-formfield--negative .nx-formfield__appendix,.nx-formfield--negative .nx-formfield__prefix,.nx-formfield--negative .nx-formfield__suffix,.nx-formfield--negative .nx-formfield__label{color:var(--negative)}.nx-formfield--type-nx-dropdown .nx-formfield__label,.nx-formfield--type-nx-multi-select .nx-formfield__label{width:calc(100% - var(--formfield-icon-size))}.nx-formfield__input textarea.nx-input{vertical-align:bottom;min-height:var(--formfield-control-line-height);resize:vertical}@media screen and (-ms-high-contrast: active){.nx-formfield__input-container,.nx-formfield.nx-formfield--negative .nx-formfield__input-container,.nx-formfield:not(.nx-formfield--negative):not(.has-error):not(.is-disabled):not(.is-focused):not(.has-outline) .nx-formfield__row:hover .nx-formfield__input-container,.nx-formfield.has-error:not(.nx-formfield--negative) .nx-formfield__input-container{border-bottom-color:buttonText}.nx-formfield.has-outline .nx-formfield__input-container{border-color:buttonText}.nx-formfield.has-outline .nx-formfield__appendix{border-bottom-color:window;border-top-color:window}.nx-formfield.is-disabled{color:GrayText;-webkit-text-fill-color:GrayText}.nx-formfield.is-disabled .nx-formfield__input-container{border-bottom-color:GrayText}.nx-formfield.is-disabled .nx-formfield__hints{color:windowText}.nx-formfield.is-disabled.has-outline .nx-formfield__input-container{border-color:GrayText}.nx-formfield.is-focused:not(.has-outline) .nx-formfield__input-container,.nx-formfield.is-focused:not(.nx-formfield--negative):not(.has-error) .nx-formfield__input-container{border-bottom-color:highlight}.nx-formfield:not(.nx-formfield--negative) .nx-formfield__appendix nx-icon{color:inherit}}.nx-formfield--type-textarea .nx-formfield__flexfield{padding:0}.nx-formfield--type-textarea .nx-formfield__input-container{height:auto}input:-webkit-autofill{-webkit-transition:background-color 5000s ease-in-out 0s;transition:background-color 5000s ease-in-out 0s}input:-webkit-autofill:first-line{font-size:var(--formfield-control-font-size);line-height:var(--formfield-control-line-height);font-weight:var(--formfield-control-font-weight);letter-spacing:var(--formfield-control-letter-spacing);font-family:var(--font-family);color:var(--formfield-control-color)}.nx-formfield.has-outline input:-webkit-autofill:first-line{font-size:var(--formfield-outline-control-font-size);line-height:var(--formfield-outline-control-line-height);font-weight:var(--formfield-outline-control-font-weight);letter-spacing:var(--formfield-outline-control-letter-spacing)}\n", "@keyframes cdk-text-field-autofill-start{}@keyframes cdk-text-field-autofill-end{}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}textarea.cdk-textarea-autosize{resize:none;box-sizing:content-box}textarea.cdk-textarea-autosize-measuring{height:auto!important;overflow:hidden!important;padding:2px 0!important;box-sizing:content-box!important}.c-input{text-align:inherit;font-size:inherit;font-weight:inherit;background:0 0;color:inherit;border:none;outline:0;padding:0;margin:0;width:100%;max-width:100%}.c-input::-ms-clear{display:none}.c-input::-webkit-search-decoration,.c-input::-webkit-search-cancel-button,.c-input::-webkit-search-results-button,.c-input::-webkit-search-results-decoration{display:none;-webkit-appearance:none}.c-input::placeholder{-webkit-user-select:none;user-select:none;font-size:var(--formfield-input-native-placeholder-font-size);line-height:var(--formfield-input-native-placeholder-line-height);font-weight:var(--formfield-input-native-placeholder-font-weight);letter-spacing:var(--formfield-input-native-placeholder-letter-spacing);color:var(--formfield-input-native-placeholder-color);transition:color ease-in .1s .2s}.c-input::placeholder:-ms-input-placeholder{-ms-user-select:text}.c-input::-moz-placeholder{user-select:none;font-size:var(--formfield-input-native-placeholder-font-size);line-height:var(--formfield-input-native-placeholder-line-height);font-weight:var(--formfield-input-native-placeholder-font-weight);letter-spacing:var(--formfield-input-native-placeholder-letter-spacing);color:var(--formfield-input-native-placeholder-color);-moz-transition:color ease-in .1s .2s;transition:color ease-in .1s .2s}.c-input::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.c-input::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;font-size:var(--formfield-input-native-placeholder-font-size);line-height:var(--formfield-input-native-placeholder-line-height);font-weight:var(--formfield-input-native-placeholder-font-weight);letter-spacing:var(--formfield-input-native-placeholder-letter-spacing);color:var(--formfield-input-native-placeholder-color);-webkit-transition:color ease-in .1s .2s;transition:color ease-in .1s .2s}.c-input::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.c-input:-ms-input-placeholder{user-select:none;font-size:var(--formfield-input-native-placeholder-font-size);line-height:var(--formfield-input-native-placeholder-line-height);font-weight:var(--formfield-input-native-placeholder-font-weight);letter-spacing:var(--formfield-input-native-placeholder-letter-spacing);color:var(--formfield-input-native-placeholder-color);-ms-transition:color ease-in .1s .2s;transition:color ease-in .1s .2s}.c-input:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.c-input::-moz-placeholder{line-height:calc(var(--formfield-control-height) - var(--formfield-border-width))}textarea.c-input{height:auto;font-family:inherit}.c-input.is-focused{border:none;outline:none;box-shadow:none}.c-input.is-focused::placeholder{opacity:1;transition:opacity ease-in .2s .15s}.c-input.is-focused::-moz-placeholder{opacity:1;-moz-transition:opacity ease-in .2s .15s;transition:opacity ease-in .2s .15s}.c-input.is-focused::-webkit-input-placeholder{opacity:1;-webkit-transition:opacity ease-in .2s .15s;transition:opacity ease-in .2s .15s}.c-input.is-focused:-ms-input-placeholder{opacity:1;-ms-transition:opacity ease-in .2s .15s;transition:opacity ease-in .2s .15s}.c-input.is-disabled{cursor:not-allowed}textarea.nx-input-element{resize:vertical;overflow:auto}.c-input:invalid,.c-input:required{box-shadow:none}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.Renderer2 }, { type: i0.ChangeDetectorRef }, { type: undefined, decorators: [{
                    type: Optional
                }, {
                    type: Inject,
                    args: [FORMFIELD_DEFAULT_OPTIONS]
                }] }]; }, propDecorators: { _control: [{
                type: ContentChild,
                args: [NxFormfieldControl]
            }], label: [{
                type: Input,
                args: ['nxLabel']
            }], _labelChild: [{
                type: ContentChild,
                args: [NxFormfieldLabelDirective]
            }], _hintChildren: [{
                type: ContentChildren,
                args: [NxFormfieldHintDirective]
            }], _noteChildren: [{
                type: ContentChildren,
                args: [NxFormfieldNoteDirective]
            }], _errorChildren: [{
                type: ContentChildren,
                args: [NxFormfieldErrorDirective]
            }], _suffixChildren: [{
                type: ContentChildren,
                args: [NxFormfieldSuffixDirective]
            }], _prefixChildren: [{
                type: ContentChildren,
                args: [NxFormfieldPrefixDirective]
            }], _appendixChildren: [{
                type: ContentChildren,
                args: [NxFormfieldAppendixDirective]
            }], _connectionContainerRef: [{
                type: ViewChild,
                args: ['connectionContainer', { static: true }]
            }], floatLabel: [{
                type: Input,
                args: ['nxFloatLabel']
            }], styles: [{
                type: Input,
                args: ['nxStyle']
            }], appearance: [{
                type: Input
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZm9ybWZpZWxkLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25nLWFxdWlsYS9zcmMvZm9ybWZpZWxkL2Zvcm1maWVsZC5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZy1hcXVpbGEvc3JjL2Zvcm1maWVsZC9mb3JtZmllbGQuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUdILHVCQUF1QixFQUV2QixTQUFTLEVBQ1QsWUFBWSxFQUNaLGVBQWUsRUFFZixNQUFNLEVBQ04sY0FBYyxFQUNkLEtBQUssRUFFTCxRQUFRLEVBR1IsU0FBUyxFQUNULGlCQUFpQixHQUNwQixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUMzRCxPQUFPLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLE1BQU0sQ0FBQztBQUN0QyxPQUFPLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRXRELE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxNQUFNLHNCQUFzQixDQUFDO0FBQ3BFLE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQzlELE9BQU8sRUFBRSxrQkFBa0IsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBQ3pELE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQzVELE9BQU8sRUFBRSx5QkFBeUIsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQzlELE9BQU8sRUFBRSx3QkFBd0IsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQzVELE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ2hFLE9BQU8sRUFBRSwwQkFBMEIsRUFBRSxNQUFNLG9CQUFvQixDQUFDOzs7QUFFaEUsTUFBTSxTQUFT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QVM7Z0JBdUJaLFVBQVU7c0JBRGIsS0FBSyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgQWZ0ZXJDb250ZW50Q2hlY2tlZCxcbiAgICBBZnRlckNvbnRlbnRJbml0LFxuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICAgIENoYW5nZURldGVjdG9yUmVmLFxuICAgIENvbXBvbmVudCxcbiAgICBDb250ZW50Q2hpbGQsXG4gICAgQ29udGVudENoaWxkcmVuLFxuICAgIEVsZW1lbnRSZWYsXG4gICAgSW5qZWN0LFxuICAgIEluamVjdGlvblRva2VuLFxuICAgIElucHV0LFxuICAgIE9uRGVzdHJveSxcbiAgICBPcHRpb25hbCxcbiAgICBRdWVyeUxpc3QsXG4gICAgUmVuZGVyZXIyLFxuICAgIFZpZXdDaGlsZCxcbiAgICBWaWV3RW5jYXBzdWxhdGlvbixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBnZXRDbGFzc05hbWVMaXN0IH0gZnJvbSAnQGFwb3Npbi9uZy1hcXVpbGEvdXRpbHMnO1xuaW1wb3J0IHsgbWVyZ2UsIFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHN0YXJ0V2l0aCwgdGFrZVVudGlsIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQgeyBOeEZvcm1maWVsZEFwcGVuZGl4RGlyZWN0aXZlIH0gZnJvbSAnLi9hcHBlbmRpeC5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgTnhGb3JtZmllbGRFcnJvckRpcmVjdGl2ZSB9IGZyb20gJy4vZXJyb3IuZGlyZWN0aXZlJztcbmltcG9ydCB7IE54Rm9ybWZpZWxkQ29udHJvbCB9IGZyb20gJy4vZm9ybWZpZWxkLWNvbnRyb2wnO1xuaW1wb3J0IHsgTnhGb3JtZmllbGRIaW50RGlyZWN0aXZlIH0gZnJvbSAnLi9oaW50LmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBOeEZvcm1maWVsZExhYmVsRGlyZWN0aXZlIH0gZnJvbSAnLi9sYWJlbC5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgTnhGb3JtZmllbGROb3RlRGlyZWN0aXZlIH0gZnJvbSAnLi9ub3RlLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBOeEZvcm1maWVsZFByZWZpeERpcmVjdGl2ZSB9IGZyb20gJy4vcHJlZml4LmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBOeEZvcm1maWVsZFN1ZmZpeERpcmVjdGl2ZSB9IGZyb20gJy4vc3VmZml4LmRpcmVjdGl2ZSc7XG5cbmNvbnN0IE5YX1NUWUxFUyA9IHtcbiAgICBuZWdhdGl2ZTogJ254LWZvcm1maWVsZC0tbmVnYXRpdmUnLFxufTtcblxubGV0IG5leHRVbmlxdWVJZCA9IDA7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgZGVmYXVsdCBvcHRpb25zIGZvciB0aGUgZm9ybSBmaWVsZCB0aGF0IGNhbiBiZSBjb25maWd1cmVkXG4gKiB1c2luZyB0aGUgYEZPUk1GSUVMRF9ERUZBVUxUX09QVElPTlNgIGluamVjdGlvbiB0b2tlbi5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGb3JtZmllbGREZWZhdWx0T3B0aW9ucyB7XG4gICAgLyoqIFNldHMgdGhlIGRlZmF1bHQgYXBwZWFyYW5jZS4gKG9wdGlvbmFsKSAqL1xuICAgIGFwcGVhcmFuY2U/OiBBcHBlYXJhbmNlVHlwZTtcblxuICAgIC8qKiBTZXRzIHRoZSBkZWZhdWx0IGZsb2F0IGxhYmVsIHR5cGUuIChvcHRpb25hbCkgKi9cbiAgICBueEZsb2F0TGFiZWw/OiBGbG9hdExhYmVsVHlwZTtcbn1cblxuZXhwb3J0IGNvbnN0IEZPUk1GSUVMRF9ERUZBVUxUX09QVElPTlMgPSBuZXcgSW5qZWN0aW9uVG9rZW48Rm9ybWZpZWxkRGVmYXVsdE9wdGlvbnM+KCdGT1JNRklFTERfREVGQVVMVF9PUFRJT05TJyk7XG5cbi8qKiBUeXBlIGZvciB0aGUgYXZhaWxhYmxlIGZsb2F0TGFiZWwgdmFsdWVzLiAqL1xuZXhwb3J0IHR5cGUgRmxvYXRMYWJlbFR5cGUgPSAnYWx3YXlzJyB8ICdhdXRvJztcblxuLyoqIFR5cGUgZm9yIHRoZSBhcHBlYXJhbmNlIG9mIHRoZSBmb3JtZmllbGQuICovXG5leHBvcnQgdHlwZSBBcHBlYXJhbmNlVHlwZSA9ICdvdXRsaW5lJyB8ICdhdXRvJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdueC1mb3JtZmllbGQnLFxuICAgIHRlbXBsYXRlVXJsOiAnZm9ybWZpZWxkLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnZm9ybWZpZWxkLnNjc3MnLCAnLi4vaW5wdXQvaW5wdXQuc2NzcyddLFxuICAgIGhvc3Q6IHtcbiAgICAgICAgJ1tjbGFzcy5ueC1mb3JtZmllbGRdJzogJ3RydWUnLFxuICAgICAgICAnW2NsYXNzLmlzLWRpc2FibGVkXSc6ICd0aGlzLl9jb250cm9sLmRpc2FibGVkJyxcbiAgICAgICAgJ1tjbGFzcy5pcy1yZWFkb25seV0nOiAndGhpcy5fY29udHJvbC5yZWFkb25seScsXG4gICAgICAgICdbY2xhc3MuaXMtZmlsbGVkXSc6ICd0aGlzLl9jb250cm9sLmVtcHR5ID09PSBmYWxzZScsXG4gICAgICAgICdbY2xhc3MuaXMtZm9jdXNlZF0nOiAndGhpcy5fY29udHJvbC5mb2N1c2VkJyxcbiAgICAgICAgJ1tjbGFzcy5pcy1mbG9hdGluZ10nOiAndGhpcy5zaG91bGRMYWJlbEZsb2F0JyxcbiAgICAgICAgJ1tjbGFzcy5oYXMtZXJyb3JdJzogJ3RoaXMuX2NvbnRyb2wuZXJyb3JTdGF0ZScsXG4gICAgICAgICdbY2xhc3MuaGFzLW91dGxpbmVdJzogJ3RoaXMuYXBwZWFyYW5jZSA9PT0gXCJvdXRsaW5lXCInLFxuICAgICAgICAnW2NsYXNzLmhhcy1oaW50XSc6ICd0aGlzLl9oaW50Q2hpbGRyZW4/Lmxlbmd0aCA+IDAnLFxuICAgIH0sXG4gICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbn0pXG5leHBvcnQgY2xhc3MgTnhGb3JtZmllbGRDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlckNvbnRlbnRJbml0LCBBZnRlckNvbnRlbnRDaGVja2VkLCBPbkRlc3Ryb3kge1xuICAgIHByaXZhdGUgX3N0eWxlcyA9ICcnO1xuXG4gICAgLyoqIEh0bWwgaWQgb2YgdGhlIGZvcm1maWVsZCBsYWJlbCAqL1xuICAgIHJlYWRvbmx5IGxhYmVsSWQ6IHN0cmluZyA9IGBueC1mb3JtZmllbGQtbGFiZWwtJHtuZXh0VW5pcXVlSWQrK31gO1xuXG4gICAgQENvbnRlbnRDaGlsZChOeEZvcm1maWVsZENvbnRyb2wpIF9jb250cm9sITogTnhGb3JtZmllbGRDb250cm9sPGFueT47XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsYWJlbCB3aGljaCB3aWxsIGFjdCBhcyBhIGZsb2F0aW5nIGxhYmVsLlxuICAgICAqIEluIGFkZGl0aW9uLCB0aGUgY29tcG9uZW50IHVzZXMgaW5wdXQgYW5kIGxhYmVsIHRvIHByb3Blcmx5IHN1cHBvcnQgYWNjZXNzaWJpbGl0eS5cbiAgICAgKi9cbiAgICBASW5wdXQoJ254TGFiZWwnKSBsYWJlbD86IHN0cmluZyB8IG51bGw7XG5cbiAgICBAQ29udGVudENoaWxkKE54Rm9ybWZpZWxkTGFiZWxEaXJlY3RpdmUpIF9sYWJlbENoaWxkITogTnhGb3JtZmllbGRMYWJlbERpcmVjdGl2ZTtcbiAgICBAQ29udGVudENoaWxkcmVuKE54Rm9ybWZpZWxkSGludERpcmVjdGl2ZSkgX2hpbnRDaGlsZHJlbiE6IFF1ZXJ5TGlzdDxOeEZvcm1maWVsZEhpbnREaXJlY3RpdmU+O1xuICAgIEBDb250ZW50Q2hpbGRyZW4oTnhGb3JtZmllbGROb3RlRGlyZWN0aXZlKSBfbm90ZUNoaWxkcmVuITogUXVlcnlMaXN0PE54Rm9ybWZpZWxkTm90ZURpcmVjdGl2ZT47XG4gICAgQENvbnRlbnRDaGlsZHJlbihOeEZvcm1maWVsZEVycm9yRGlyZWN0aXZlKSBfZXJyb3JDaGlsZHJlbiE6IFF1ZXJ5TGlzdDxOeEZvcm1maWVsZEVycm9yRGlyZWN0aXZlPjtcbiAgICBAQ29udGVudENoaWxkcmVuKE54Rm9ybWZpZWxkU3VmZml4RGlyZWN0aXZlKSBfc3VmZml4Q2hpbGRyZW4hOiBRdWVyeUxpc3Q8TnhGb3JtZmllbGRTdWZmaXhEaXJlY3RpdmU+O1xuICAgIEBDb250ZW50Q2hpbGRyZW4oTnhGb3JtZmllbGRQcmVmaXhEaXJlY3RpdmUpIF9wcmVmaXhDaGlsZHJlbiE6IFF1ZXJ5TGlzdDxOeEZvcm1maWVsZFByZWZpeERpcmVjdGl2ZT47XG4gICAgQENvbnRlbnRDaGlsZHJlbihOeEZvcm1maWVsZEFwcGVuZGl4RGlyZWN0aXZlKSBfYXBwZW5kaXhDaGlsZHJlbiE6IFF1ZXJ5TGlzdDxOeEZvcm1maWVsZEFwcGVuZGl4RGlyZWN0aXZlPjtcblxuICAgIEBWaWV3Q2hpbGQoJ2Nvbm5lY3Rpb25Db250YWluZXInLCB7IHN0YXRpYzogdHJ1ZSB9KSBfY29ubmVjdGlvbkNvbnRhaW5lclJlZiE6IEVsZW1lbnRSZWY7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBsYWJlbCBzaG91bGQgZmxvYXQgb25jZSB0aGUgaW5wdXQgaXMgZm9jdXNlZCBvciBmaWxsZWQgKGF1dG8sIGRlZmF1bHQpXG4gICAgICogb3IgZm9yY2UgaXQgdG8gYWx3YXlzIGZsb2F0IHdpdGggYSB2YWx1ZSBvZiBhbHdheXMgdG8gc2ltdWxhdGUgYSBtb3JlIHN0YXRpYyBmb3JtLlxuICAgICAqL1xuICAgIEBJbnB1dCgnbnhGbG9hdExhYmVsJylcbiAgICBnZXQgZmxvYXRMYWJlbCgpOiBGbG9hdExhYmVsVHlwZSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mbG9hdExhYmVsIHx8IHRoaXMuX2RlZmF1bHRPcHRpb25zPy5ueEZsb2F0TGFiZWwgfHwgJ2F1dG8nO1xuICAgIH1cbiAgICBzZXQgZmxvYXRMYWJlbCh2YWx1ZTogRmxvYXRMYWJlbFR5cGUpIHtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLl9mbG9hdExhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLl9mbG9hdExhYmVsID0gdmFsdWUgfHwgJ2F1dG8nO1xuICAgICAgICAgICAgdGhpcy5fY2RyLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHByaXZhdGUgX2Zsb2F0TGFiZWwhOiBGbG9hdExhYmVsVHlwZTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0eWxpbmcgb2YgdGhlIGZvcm1maWVsZC5cbiAgICAgKiBJZiAnbmVnYXRpdmUnLCBhIG5lZ2F0aXZlIHNldCBvZiBzdHlsaW5ncyBpcyB1c2VkLlxuICAgICAqL1xuICAgIEBJbnB1dCgnbnhTdHlsZScpXG4gICAgc2V0IHN0eWxlcyh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdHlsZXMgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjbGFzc05hbWVzID0gZ2V0Q2xhc3NOYW1lTGlzdCh2YWx1ZSwgTlhfU1RZTEVTKTtcblxuICAgICAgICBjbGFzc05hbWVzLmZvckVhY2goY2xhc3NTdHIgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5hZGRDbGFzcyh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCwgY2xhc3NTdHIpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9zdHlsZXMgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9hcHBlYXJhbmNlITogQXBwZWFyYW5jZVR5cGU7XG5cbiAgICAvKipcbiAgICAgKiAqKkV4cGVydCBvcHRpb24qKlxuICAgICAqXG4gICAgICogU2V0cyB0aGUgYXBwZWFyYW5jZSBvZiB0aGUgZm9ybWZpZWxkLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2V0IGFwcGVhcmFuY2UodmFsdWU6IEFwcGVhcmFuY2VUeXBlKSB7XG4gICAgICAgIGlmICh0aGlzLl9hcHBlYXJhbmNlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fYXBwZWFyYW5jZSA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5fY2RyLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBhcHBlYXJhbmNlKCk6IEFwcGVhcmFuY2VUeXBlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcGVhcmFuY2UgfHwgdGhpcy5fZGVmYXVsdE9wdGlvbnM/LmFwcGVhcmFuY2UgfHwgJ2F1dG8nO1xuICAgIH1cblxuICAgIGdldCBfc2hvdWxkQWx3YXlzRmxvYXQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZsb2F0TGFiZWwgPT09ICdhbHdheXMnO1xuICAgIH1cblxuICAgIC8qKiBAZG9jcy1wcml2YXRlICovXG4gICAgZ2V0IHNob3VsZExhYmVsRmxvYXQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb250cm9sLnNob3VsZExhYmVsRmxvYXQgfHwgdGhpcy5fc2hvdWxkQWx3YXlzRmxvYXQ7XG4gICAgfVxuXG4gICAgLyoqIEBkb2NzLXByaXZhdGUgKi9cbiAgICBnZXQgY29udHJvbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRyb2w7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWFkb25seSBfZGVzdHJveWVkID0gbmV3IFN1YmplY3Q8dm9pZD4oKTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICAvKiogQGRvY3MtcHJpdmF0ZSAqLyBwdWJsaWMgZWxlbWVudFJlZjogRWxlbWVudFJlZixcbiAgICAgICAgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyLFxuICAgICAgICBwcml2YXRlIF9jZHI6IENoYW5nZURldGVjdG9yUmVmLFxuICAgICAgICBAT3B0aW9uYWwoKSBASW5qZWN0KEZPUk1GSUVMRF9ERUZBVUxUX09QVElPTlMpIHByaXZhdGUgX2RlZmF1bHRPcHRpb25zOiBGb3JtZmllbGREZWZhdWx0T3B0aW9ucyB8IG51bGwsXG4gICAgKSB7fVxuXG4gICAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICAgICAgICBsZXQgc3Vic2NyaXB0aW9uO1xuXG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlQ29udHJvbENoaWxkKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRyb2wuY29udHJvbFR5cGUpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmNsYXNzTGlzdC5hZGQoYG54LWZvcm1maWVsZC0tdHlwZS0ke3RoaXMuX2NvbnRyb2wuY29udHJvbFR5cGV9YCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdWJzY3JpYmUgdG8gY2hhbmdlcyBpbiB0aGUgY2hpbGQgY29udHJvbCBzdGF0ZSBpbiBvcmRlciB0byB1cGRhdGUgdGhlIGZvcm0gZmllbGQgVUkuXG4gICAgICAgIHRoaXMuX2NvbnRyb2wuc3RhdGVDaGFuZ2VzLnBpcGUoc3RhcnRXaXRoKG51bGwpLCB0YWtlVW50aWwodGhpcy5fZGVzdHJveWVkKSkuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N5bmNEZXNjcmliZWRCeUlkcygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nkci5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBtZXJnZShcbiAgICAgICAgICAgIHRoaXMuX2hpbnRDaGlsZHJlbi5jaGFuZ2VzLFxuICAgICAgICAgICAgdGhpcy5fYXBwZW5kaXhDaGlsZHJlbi5jaGFuZ2VzLFxuICAgICAgICAgICAgdGhpcy5fcHJlZml4Q2hpbGRyZW4uY2hhbmdlcyxcbiAgICAgICAgICAgIHRoaXMuX3N1ZmZpeENoaWxkcmVuLmNoYW5nZXMsXG4gICAgICAgICAgICB0aGlzLl9ub3RlQ2hpbGRyZW4uY2hhbmdlcyxcbiAgICAgICAgKVxuICAgICAgICAgICAgLnBpcGUoc3RhcnRXaXRoKG51bGwpLCB0YWtlVW50aWwodGhpcy5fZGVzdHJveWVkKSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Nkci5tYXJrRm9yQ2hlY2soKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgYXJpYS1kZXNjcmliZWQgYnkgd2hlbiB0aGUgbnVtYmVyIG9mIGVycm9ycyBjaGFuZ2VzLlxuICAgICAgICB0aGlzLl9lcnJvckNoaWxkcmVuLmNoYW5nZXMucGlwZShzdGFydFdpdGgobnVsbCksIHRha2VVbnRpbCh0aGlzLl9kZXN0cm95ZWQpKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3luY0Rlc2NyaWJlZEJ5SWRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2RyLm1hcmtGb3JDaGVjaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG5nQWZ0ZXJDb250ZW50Q2hlY2tlZCgpIHtcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVDb250cm9sQ2hpbGQoKTtcbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkLm5leHQoKTtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkLmNvbXBsZXRlKCk7XG4gICAgfVxuXG4gICAgLyoqIEBkb2NzLXByaXZhdGUgKi9cbiAgICBnZXREaXNwbGF5ZWRNZXNzYWdlKCk6ICdub3RlJyB8ICdlcnJvcicgfCAnJyB7XG4gICAgICAgIGlmICh0aGlzLl9jb250cm9sLmVycm9yU3RhdGUgJiYgdGhpcy5fZXJyb3JDaGlsZHJlbiAmJiB0aGlzLl9lcnJvckNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnZXJyb3InO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9ub3RlQ2hpbGRyZW4gJiYgdGhpcy5fbm90ZUNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnbm90ZSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfc3luY0Rlc2NyaWJlZEJ5SWRzKCkge1xuICAgICAgICBpZiAodGhpcy5fY29udHJvbCkge1xuICAgICAgICAgICAgbGV0IGlkczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGlkcyA9IHRoaXMuX2hpbnRDaGlsZHJlbi5tYXAoaGludCA9PiBoaW50LmlkKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0RGlzcGxheWVkTWVzc2FnZSgpID09PSAnbm90ZScpIHtcbiAgICAgICAgICAgICAgICBpZHMgPSBbLi4udGhpcy5fbm90ZUNoaWxkcmVuLm1hcChoaW50ID0+IGhpbnQuaWQpLCAuLi5pZHNdO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9lcnJvckNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgaWRzID0gWy4uLnRoaXMuX2Vycm9yQ2hpbGRyZW4ubWFwKGVycm9yID0+IGVycm9yLmlkKSwgLi4uaWRzXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fY29udHJvbC5zZXREZXNjcmliZWRCeUlkcyhpZHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmFpbCBpZiB0aGUgcmVxdWlyZWQgY29udHJvbCBpcyBtaXNzaW5nLlxuICAgIHByb3RlY3RlZCBfdmFsaWRhdGVDb250cm9sQ2hpbGQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY29udHJvbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3JtZmllbGQgbXVzdCBjb250YWluIGEgTnhGb3JtZmllbGRDb250cm9sIGxpa2UgaW5wdXRbbnhJbnB1dF0gb3IgYSBjdXN0b20gaW1wbGVtZW50YXRpb24nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBAZG9jcy1wcml2YXRlICovXG4gICAgZ2V0Q29ubmVjdGVkT3ZlcmxheU9yaWdpbigpOiBFbGVtZW50UmVmIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25Db250YWluZXJSZWYgfHwgdGhpcy5lbGVtZW50UmVmO1xuICAgIH1cblxuICAgIC8qKiBAZG9jcy1wcml2YXRlICovXG4gICAgX2hhc0xhYmVsKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9sYWJlbENoaWxkIHx8ICEhdGhpcy5sYWJlbDtcbiAgICB9XG5cbiAgICAvKiogQGRvY3MtcHJpdmF0ZVxuICAgICAqIFRoZSBwbGFjZWhvbGRlciBpcyBoaWRkZW4gd2hlblxuICAgICAqICAtIHRoZSBjb250cm9sIGlzIG5vdCBlbXB0eVxuICAgICAqICAtIFRoZSBsYWJlbCBpcyBub3QgZmxvYXRlZFxuICAgICAqICovXG4gICAgX2hpZGVDb250cm9sUGxhY2Vob2xkZXIoKSB7XG4gICAgICAgIHJldHVybiAoIXRoaXMuc2hvdWxkTGFiZWxGbG9hdCAmJiB0aGlzLl9oYXNMYWJlbCgpKSB8fCAhdGhpcy5fY29udHJvbC5lbXB0eTtcbiAgICB9XG5cbiAgICBfZ2V0VGl0bGUoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKCF0aGlzLl9sYWJlbENoaWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbCA/PyAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbGFiZWxDaGlsZC5lbC5uYXRpdmVFbGVtZW50Py5pbm5lclRleHQ7XG4gICAgfVxufVxuIiwiPCEtLVxuV2UgYXJlIGJ1aWxkaW5nIHRoZSBmb2xsb3dpbmcgc3RydWN0dXJlLlxuXG4rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rICstLS0tLS0tLS0tLStcbnwgUHJlZml4IHwgICBJbnB1dCAgIHwgU3VmZml4IHwgfCAgQXBwZW5kaXggfFxuKy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyArLS0tLS0tLS0tLS0rXG58LS0tLS0tLS0tLS0tLS0tLS1Cb3JkZXItLS0tLS0tLS0tLS0tLS0tLS0tLXxcbistLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xufCAgICAgICAgICAgICAgICAgSGludHMgICAgICAgICAgICAgICAgICAgICB8XG4rLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLStcbnwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxufCAgICAgICAgICAgICAgICBNZXNzYWdlcyAgICAgICAgICAgICAgICAgICB8XG58ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbistLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tK1xuXG4tLT5cblxuPGRpdiBjbGFzcz1cIm54LWZvcm1maWVsZF9fd3JhcHBlclwiPlxuICAgIDwhLS0gR2l2ZSBhIGZsZXggY29udGV4dCB0byBwcm9wZXJseSBhbGlnbiBzdWZmaXgsIGlucHV0ICYgcG9zdGZpeCAtLT5cbiAgICA8ZGl2IGNsYXNzPVwibngtZm9ybWZpZWxkX19yb3dcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm54LWZvcm1maWVsZF9fZmxleGZpZWxkXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibngtZm9ybWZpZWxkX19pbnB1dC1jb250YWluZXJcIiAjY29ubmVjdGlvbkNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibngtZm9ybWZpZWxkX19wcmVmaXhcIiAqbmdJZj1cIl9wcmVmaXhDaGlsZHJlbi5sZW5ndGhcIj5cbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwiW254Rm9ybWZpZWxkUHJlZml4XVwiPjwvbmctY29udGVudD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJueC1mb3JtZmllbGRfX2lucHV0XCIgW3RpdGxlXT1cIl9nZXRUaXRsZSgpXCI+XG4gICAgICAgICAgICAgICAgICAgIDwhLS0gVGhpcyBoYW5kbGVzIHRoZSBmbG9hdGluZyB3aG9sZSBiZWhhdmlvciAtLT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJueC1mb3JtZmllbGRfX2xhYmVsLWhvbGRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwibngtZm9ybWZpZWxkX19sYWJlbFwiIFtpZF09XCJsYWJlbElkXCIgW2F0dHIuYXJpYS1vd25zXT1cIl9jb250cm9sLmlkXCIgW2F0dHIuZm9yXT1cIl9jb250cm9sLmlkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIiFfbGFiZWxDaGlsZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7eyBsYWJlbCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIm54LWZvcm1maWVsZC1sYWJlbFwiPjwvbmctY29udGVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cblxuICAgICAgICAgICAgICAgICAgICA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibngtZm9ybWZpZWxkX19zdWZmaXhcIiAqbmdJZj1cIl9zdWZmaXhDaGlsZHJlbi5sZW5ndGhcIj5cbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRlbnQgc2VsZWN0PVwiW254Rm9ybWZpZWxkU3VmZml4XVwiPjwvbmctY29udGVudD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPCEtLSBTcGFjZSB0byByZW5kZXIgdGhlIGhpbnRzIGJlbG93IHRoZSB0ZXh0ZmllbGQgLS0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibngtZm9ybWZpZWxkX19oaW50c1wiICpuZ0lmPVwiX2hpbnRDaGlsZHJlbi5sZW5ndGhcIj5cbiAgICAgICAgICAgICAgICA8bmctY29udGVudCBzZWxlY3Q9XCJbbnhGb3JtZmllbGRIaW50XVwiPjwvbmctY29udGVudD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIEFwcGVuZGl4IGlzIHNpbWlsYXIgdG8gYSBzdWZmaXggYnV0IHZpc2libHkgb3V0c2lkZSBvZiB0aGUgaW5wdXQgIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibngtZm9ybWZpZWxkX19hcHBlbmRpeFwiICpuZ0lmPVwiX2FwcGVuZGl4Q2hpbGRyZW4ubGVuZ3RoXCI+XG4gICAgICAgICAgICA8bmctY29udGVudCBzZWxlY3Q9XCJbbnhGb3JtZmllbGRBcHBlbmRpeF1cIj48L25nLWNvbnRlbnQ+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPCEtLSBJbiBjYXNlIHdlIGdvdCBzb21lIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gd2UgcmVuZGVyIHRoZW0gYmVsb3cgdGhlIGdpdmVuIGlucHV0IC0tPlxuICAgIDxuZy1jb250YWluZXIgW25nU3dpdGNoXT1cImdldERpc3BsYXllZE1lc3NhZ2UoKVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibngtZm9ybWZpZWxkX19tZXNzYWdlXCIgKm5nU3dpdGNoQ2FzZT1cIidlcnJvcidcIj5cbiAgICAgICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIltueEZvcm1maWVsZEVycm9yXVwiPjwvbmctY29udGVudD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm54LWZvcm1maWVsZF9fbWVzc2FnZVwiICpuZ1N3aXRjaENhc2U9XCInbm90ZSdcIj5cbiAgICAgICAgICAgIDxuZy1jb250ZW50IHNlbGVjdD1cIltueEZvcm1maWVsZE5vdGVdXCI+PC9uZy1jb250ZW50PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L25nLWNvbnRhaW5lcj5cbjwvZGl2PlxuIl19